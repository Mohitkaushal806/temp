import { Component, EventEmitter, Input, Output, } from '@angular/core';
import { WidgetType } from '../../x-sights-core.service';
import Swal from 'sweetalert2';
import * as i0 from "@angular/core";
import * as i1 from "../../services/data.service";
import * as i2 from "ngx-toastr";
import * as i3 from "../../services/xsights-backend.service";
import * as i4 from "../../x-sights-core.service";
import * as i5 from "ng-multiselect-dropdown";
import * as i6 from "devextreme-angular";
import * as i7 from "devextreme-angular/ui/nested";
import * as i8 from "@angular/common";
import * as i9 from "@angular/forms";
export class XSightsBackendPublicDashboardComponent {
    constructor(dataService, toastService, xsightsBackend, xsights) {
        this.dataService = dataService;
        this.toastService = toastService;
        this.xsightsBackend = xsightsBackend;
        this.xsights = xsights;
        this.dashboardUrl = '';
        this.adminId = 0;
        this.dashboardLoaded = new EventEmitter();
        this.mtrSource = '138';
        this.decodedParams = {};
        this.dashboardData = {};
        this.filters = [];
        this.selFilters = {};
        this.dropdownSettings = {};
        this.tableDatas = {};
        this.seriesData = {};
        this.dumpData = [];
        this.calledSourceData = {};
        this.tableGraphs = [];
    }
    ngOnInit() {
        // this.decodeUrl();
        this.dropdownSettings = {
            singleSelection: false,
            enableCheckAll: false,
            allowSearchFilter: true,
        };
    }
    ngOnChanges(changes) {
        //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.
        //Add '${implements OnChanges}' to the class.
        if (changes['dashboardUrl'].previousValue !=
            changes['dashboardUrl'].currentValue ||
            changes['adminId'].previousValue != changes['adminId'].currentValue) {
            this.decodeUrl();
        }
    }
    decodeUrl() {
        this.dataService.getDecodedUrl(this.dashboardUrl).then((res) => {
            const urlParamsStr = res.data[0].split('?')[1];
            const urlParamsArr = urlParamsStr.split('&');
            urlParamsArr.forEach((param) => {
                this.decodedParams[param.split('=')[0]] = param.split('=')[1];
            });
            this.getGraphDashBoardById();
        });
    }
    getGraphDashBoardById() {
        this.adminId = this.decodedParams.foAdminId;
        let filter = {};
        this.filters.forEach((f) => {
            if (filter[f.sourceId]) {
                filter[f.sourceId] = {
                    ...filter[f.sourceId],
                    [f.fieldName]: f.selValues.map((value) => value.text)
                };
            }
            else {
                filter[f.sourceId] = {
                    [f.fieldName]: f.selValues.map((value) => value.text)
                };
            }
        });
        this.selFilters = filter;
        let data = {
            dashboardId: this.decodedParams.dash_id,
            filters: filter,
            fileId: this.decodedParams.fileId
        };
        this.dataService
            .getSharedBackendDashboard(data, this.adminId)
            .then(async (res) => {
            this.dashboardData.id = res.data[0].share_id;
            this.filters = this.filters.length == 0 ? res.data[0]?.filters.map((filter) => {
                filter["values"] = JSON.parse(filter["values"]).map((value, index) => {
                    return {
                        id: index,
                        text: value
                    };
                });
                filter["selValues"] = filter["selValues"] ? filter["selValues"] : [];
                return filter;
            }) ?? [] : this.filters;
            this.seriesData = res.data[0]?.seriesData;
            res.data[0].graphs = res.data[0].graphs.sort(this.setGraphOrder);
            this.dashboardData = res.data[0];
            for (const element of this.dashboardData.graphs) {
                const graph = element;
                if (graph.graphType != 2 && graph.graphType != 3) {
                    let res = this.seriesData[graph.graph_id];
                    let tempGraphData = {
                        rows: graph.graph_structure.xAxis,
                        columns: graph.graph_structure.yAxis,
                        aggregationFunctions: graph.graph_structure.aggreagations,
                        filter: graph.graph_structure.filter,
                        customVariable: graph.graph_structure.derivedVariables,
                        dataFormat: [],
                        colToShow: null,
                        lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                        chartType: graph.graph_structure.chartType,
                        dateVariable: graph.graph_structure.dateVariable,
                    };
                    this.buildChart(graph, res, tempGraphData, this.selFilters);
                }
                else if (graph.graphType == 3) {
                    this.tableGraphs.push(graph);
                }
            }
            this.loadingComplete();
        });
    }
    buildChart(widgetData, data, tempData, dashboardFilter) {
        let _self = this;
        return new Promise(async (resolve, reject) => {
            if (widgetData.graphType == 1) {
                let graphData = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows[0],
                    columns: tempData.columns[0],
                    graphTypes: widgetData.graph_structure.chartType[0],
                    graphData: data,
                    aggregationFunctions: tempData.aggregationFunctions[0],
                    filter: tempData.filter,
                    colors: widgetData.graph_structure.colColours[0],
                    range: {
                        startDate: widgetData.graph_structure.startDate,
                        endDate: widgetData.graph_structure.endDate,
                    },
                    dateVariable: tempData.dateVariable,
                    rangeFilter: widgetData.graph_structure.rangeFilter,
                    comparison: widgetData.graph_structure.comparison ?? [],
                    customVariable: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                    selKeys: [],
                    adminId: this.adminId,
                    sourceId: widgetData.sourceId,
                    dashboardFilter: dashboardFilter,
                    shareid: this.dashboardData.id
                };
                let response = await _self.xsightsBackend.build(WidgetType.TREND, graphData);
                resolve(response);
            }
            else if (widgetData.graphType == 3) {
                let tableData = {
                    rows: tempData.rows,
                    column: tempData.columns,
                    aggregationFunction: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    derivedVariables: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    range: {
                        startDate: null,
                        endDate: null
                    },
                    data: data,
                    categories: widgetData.graph_structure.chartType,
                };
                _self.tableDatas['table-graph-' + widgetData.graph_id] =
                    await _self.xsights.build(WidgetType.PIVOT_TABLE, tableData);
                resolve(true);
            }
            else {
                let graphdata = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows,
                    adminId: this.adminId,
                    columns: tempData.columns,
                    aggregationFunctions: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    customVariable: tempData.customVariable,
                    selKeys: [],
                    sourceId: widgetData.sourceId,
                    range: {
                        startDate: null,
                        endDate: null
                    },
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                    graphTypes: widgetData.graph_structure.chartType,
                    graphData: data,
                    colors: widgetData.graph_structure.colColours,
                    dashboardFilter: dashboardFilter,
                    shareid: this.dashboardData.id
                };
                setTimeout(() => {
                    let response = this.xsightsBackend.build(WidgetType.GRAPH, graphdata);
                }, 500);
                resolve(true);
            }
        });
    }
    loadingComplete() {
        this.renderTable();
        this.dashboardLoaded.emit({
            isLoaded: true
        });
    }
    async renderTable() {
        if (this.tableGraphs.length > 0) {
            this.tableGraphs.forEach(async (graph) => {
                let data = await this.generateDashboard(graph, false);
                console.log('data: ', data);
                let tempGraphData = {
                    rows: graph.graph_structure.xAxis,
                    columns: graph.graph_structure.yAxis,
                    aggregationFunctions: graph.graph_structure.aggreagations,
                    filter: graph.graph_structure.filter,
                    customVariable: graph.graph_structure.derivedVariables,
                    dataFormat: [],
                    colToShow: null,
                    lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                    chartType: graph.graph_structure.chartType,
                    dateVariable: graph.graph_structure.dateVariable,
                };
                if (graph.sourceid.toString() == this.mtrSource) {
                    tempGraphData = this.dataService.keyConverter(tempGraphData, data[0].columns, 1);
                }
                this.buildChart(graph, data[0].data, tempGraphData, null);
            });
        }
    }
    generateDashboard(graph, reCall = false) {
        return new Promise((resolve, reject) => {
            if (this.calledSourceData.hasOwnProperty(graph.sourceid.toString()) &&
                !reCall) {
                resolve(this.calledSourceData[graph.sourceid.toString()]);
            }
            else {
                let d = {
                    graphId: graph.graph_id,
                    dataFilter: this.selFilters,
                    direction: 0,
                    adminId: this.adminId,
                    shareid: this.dashboardData.id,
                    startDate: null,
                    endDate: null
                };
                this.dataService.getGraphDataById(d).then((res) => {
                    Swal.hideLoading();
                    Swal.close();
                    let keys = null;
                    let dumpData = res.data;
                    this.calledSourceData[graph.sourceid.toString()] = dumpData;
                    resolve(dumpData);
                })
                    .catch((err) => {
                    Swal.hideLoading();
                    Swal.close();
                    this.toastService.error('Unable to Fetch Data');
                });
            }
        });
    }
    setGraphOrder(a, b) {
        if (a.order < b.order) {
            return -1;
        }
        if (a.order > b.order) {
            return 1;
        }
        return 0;
    }
}
XSightsBackendPublicDashboardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsBackendPublicDashboardComponent, deps: [{ token: i1.DataService }, { token: i2.ToastrService }, { token: i3.XsightsBackendService }, { token: i4.XSightsCoreService }], target: i0.ɵɵFactoryTarget.Component });
XSightsBackendPublicDashboardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.0.3", type: XSightsBackendPublicDashboardComponent, selector: "lib-x-sights-backend-public-dashboard", inputs: { dashboardUrl: "dashboardUrl", adminId: "adminId" }, outputs: { dashboardLoaded: "dashboardLoaded" }, usesOnChanges: true, ngImport: i0, template: "<div *ngIf=\"dashboardData != {}\">\n    <div class=\"dash_graph_sec\">\n        <div class=\"dash_graph dashboard-wrapper\">\n            <div>\n                <h3 class=\"graph_name\" style=\"height: 44px;\">{{dashboardData.dashboard_name}} </h3>\n            </div>\n            <div class=\"filter-container\" *ngIf=\"filters.length\">\n                <h3>Filters:</h3>\n                <div class=\"col-lg-12 row\">\n                    <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i = index\"> \n                        <ng-multiselect-dropdown\n                            [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\"\n                            [settings]=\"dropdownSettings\" [data]=\"filter.values\"> \n                        </ng-multiselect-dropdown> \n                    </div>\n                </div>\n                <div class=\"col-lg-12\">\n                    <button class=\"btn btn-primary\" (click)=\"getGraphDashBoardById()\">Apply Filter</button>\n                </div>\n            </div>\n            <div class=\"row graph_design\" id=\"dashboardScreen\"> \n                <ng-container *ngFor=\"let graph of dashboardData?.graphs;let i=index;\">\n                    <!-- <div class=\"page-break\" *ngIf=\"i % 5 == 0 && i != 0\"></div> -->\n                    \n                    <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                        <div class=\"dashboard-graph\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                            <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                            <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div> <!-- loader end -->\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div *ngIf=\"graph.graphType==2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                        [ngClass]=\"{'col-lg-12':\n                        graph.graph_index==1,'col-lg-6': graph.graph_index==2,'col-lg-4':\n                        graph.graph_index==3,'col-lg-3': graph.graph_index==4}\" style=\"display: flex;\n                        flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                        <!-- loader start -->\n                        <h2 style=\"text-align: center; margin-bottom: 0px;\">\n                            {{graph.graphname}}</h2> <!-- loader end -->\n                    </div>\n                    <div *ngIf=\"graph.graphType==3\" class=\"dashboard-graph\" [id]=\"'table-graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                        <!-- loader start -->\n                        <h3 style=\"text-align: center;\">{{graph.graphname}}</h3>\n                        <ng-container *ngIf=\"tableDatas.hasOwnProperty('table-graph-' + graph.graph_id)\">\n                            <dx-pivot-grid [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                [showBorders]=\"true\" [dataSource]=\"tableDatas['table-graph-' + graph.graph_id]\">\n                                <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                        </ng-container> <ng-container *ngIf=\"tableDatas['table-graph-' +\n                            graph.graph_id]==undefined\">\n                            <div class=\"lds-ellipsis\">\n                                <div></div>\n                                <div>\n                                </div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                        </ng-container>\n                        <!-- loader end -->\n                    </div>\n                </ng-container> </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec .dash_graph{background-color:#fff}.dash_graph_sec .dash_graph .graph_name{text-align:center;background-color:#000;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:1px solid #e4e4e4;border-top:0px;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.captcha-box{display:flex;justify-content:center;align-items:center;height:100%;position:absolute;width:100%;padding:5%;background:#ccc}.dashboard-wrapper{box-shadow:1px 1px 10px #ddd;border-radius:5px}.main_container{background-size:cover;background-repeat:no-repeat}@media print{.page-break{page-break-after:always!important}#dashboardScreen{display:block}}@media print{::ng-deep body,::ng-deep html,::ng-deep #wrapper{width:100%!important}::ng-deep .highcharts-root{width:100%!important}}\n"], components: [{ type: i5.MultiSelectComponent, selector: "ng-multiselect-dropdown", inputs: ["disabled", "placeholder", "settings", "data"], outputs: ["onFilterChange", "onDropDownClose", "onSelect", "onDeSelect", "onSelectAll", "onDeSelectAll"] }, { type: i6.DxPivotGridComponent, selector: "dx-pivot-grid", inputs: ["allowExpandAll", "allowFiltering", "allowSorting", "allowSortingBySummary", "dataFieldArea", "dataSource", "disabled", "elementAttr", "encodeHtml", "export", "fieldChooser", "fieldPanel", "headerFilter", "height", "hideEmptySummaryCells", "hint", "loadPanel", "rowHeaderLayout", "rtlEnabled", "scrolling", "showBorders", "showColumnGrandTotals", "showColumnTotals", "showRowGrandTotals", "showRowTotals", "showTotalsPrior", "stateStoring", "tabIndex", "texts", "visible", "width", "wordWrapEnabled"], outputs: ["onCellClick", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDisposing", "onExporting", "onInitialized", "onOptionChanged", "allowExpandAllChange", "allowFilteringChange", "allowSortingChange", "allowSortingBySummaryChange", "dataFieldAreaChange", "dataSourceChange", "disabledChange", "elementAttrChange", "encodeHtmlChange", "exportChange", "fieldChooserChange", "fieldPanelChange", "headerFilterChange", "heightChange", "hideEmptySummaryCellsChange", "hintChange", "loadPanelChange", "rowHeaderLayoutChange", "rtlEnabledChange", "scrollingChange", "showBordersChange", "showColumnGrandTotalsChange", "showColumnTotalsChange", "showRowGrandTotalsChange", "showRowTotalsChange", "showTotalsPriorChange", "stateStoringChange", "tabIndexChange", "textsChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { type: i7.DxoFieldChooserComponent, selector: "dxo-field-chooser", inputs: ["allowSearch", "applyChangesMode", "enabled", "height", "layout", "searchTimeout", "texts", "title", "width"] }], directives: [{ type: i8.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i9.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i9.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i8.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsBackendPublicDashboardComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-x-sights-backend-public-dashboard', template: "<div *ngIf=\"dashboardData != {}\">\n    <div class=\"dash_graph_sec\">\n        <div class=\"dash_graph dashboard-wrapper\">\n            <div>\n                <h3 class=\"graph_name\" style=\"height: 44px;\">{{dashboardData.dashboard_name}} </h3>\n            </div>\n            <div class=\"filter-container\" *ngIf=\"filters.length\">\n                <h3>Filters:</h3>\n                <div class=\"col-lg-12 row\">\n                    <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i = index\"> \n                        <ng-multiselect-dropdown\n                            [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\"\n                            [settings]=\"dropdownSettings\" [data]=\"filter.values\"> \n                        </ng-multiselect-dropdown> \n                    </div>\n                </div>\n                <div class=\"col-lg-12\">\n                    <button class=\"btn btn-primary\" (click)=\"getGraphDashBoardById()\">Apply Filter</button>\n                </div>\n            </div>\n            <div class=\"row graph_design\" id=\"dashboardScreen\"> \n                <ng-container *ngFor=\"let graph of dashboardData?.graphs;let i=index;\">\n                    <!-- <div class=\"page-break\" *ngIf=\"i % 5 == 0 && i != 0\"></div> -->\n                    \n                    <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                        <div class=\"dashboard-graph\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                            <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                            <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div> <!-- loader end -->\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div *ngIf=\"graph.graphType==2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                        [ngClass]=\"{'col-lg-12':\n                        graph.graph_index==1,'col-lg-6': graph.graph_index==2,'col-lg-4':\n                        graph.graph_index==3,'col-lg-3': graph.graph_index==4}\" style=\"display: flex;\n                        flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                        <!-- loader start -->\n                        <h2 style=\"text-align: center; margin-bottom: 0px;\">\n                            {{graph.graphname}}</h2> <!-- loader end -->\n                    </div>\n                    <div *ngIf=\"graph.graphType==3\" class=\"dashboard-graph\" [id]=\"'table-graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                        <!-- loader start -->\n                        <h3 style=\"text-align: center;\">{{graph.graphname}}</h3>\n                        <ng-container *ngIf=\"tableDatas.hasOwnProperty('table-graph-' + graph.graph_id)\">\n                            <dx-pivot-grid [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                [showBorders]=\"true\" [dataSource]=\"tableDatas['table-graph-' + graph.graph_id]\">\n                                <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                        </ng-container> <ng-container *ngIf=\"tableDatas['table-graph-' +\n                            graph.graph_id]==undefined\">\n                            <div class=\"lds-ellipsis\">\n                                <div></div>\n                                <div>\n                                </div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                        </ng-container>\n                        <!-- loader end -->\n                    </div>\n                </ng-container> </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec .dash_graph{background-color:#fff}.dash_graph_sec .dash_graph .graph_name{text-align:center;background-color:#000;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:1px solid #e4e4e4;border-top:0px;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.captcha-box{display:flex;justify-content:center;align-items:center;height:100%;position:absolute;width:100%;padding:5%;background:#ccc}.dashboard-wrapper{box-shadow:1px 1px 10px #ddd;border-radius:5px}.main_container{background-size:cover;background-repeat:no-repeat}@media print{.page-break{page-break-after:always!important}#dashboardScreen{display:block}}@media print{::ng-deep body,::ng-deep html,::ng-deep #wrapper{width:100%!important}::ng-deep .highcharts-root{width:100%!important}}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.DataService }, { type: i2.ToastrService }, { type: i3.XsightsBackendService }, { type: i4.XSightsCoreService }]; }, propDecorators: { dashboardUrl: [{
                type: Input
            }], adminId: [{
                type: Input
            }], dashboardLoaded: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieC1zaWdodHMtYmFja2VuZC1wdWJsaWMtZGFzaGJvYXJkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3gtc2lnaHRzLWNvcmUvc3JjL2xpYi9jb21wb25lbnRzL3gtc2lnaHRzLWJhY2tlbmQtcHVibGljLWRhc2hib2FyZC94LXNpZ2h0cy1iYWNrZW5kLXB1YmxpYy1kYXNoYm9hcmQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMveC1zaWdodHMtY29yZS9zcmMvbGliL2NvbXBvbmVudHMveC1zaWdodHMtYmFja2VuZC1wdWJsaWMtZGFzaGJvYXJkL3gtc2lnaHRzLWJhY2tlbmQtcHVibGljLWRhc2hib2FyZC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxHQUVQLE1BQU0sZUFBZSxDQUFDO0FBSXZCLE9BQU8sRUFBRSxVQUFVLEVBQXNCLE1BQU0sNkJBQTZCLENBQUM7QUFFN0UsT0FBTyxJQUFJLE1BQU0sYUFBYSxDQUFDOzs7Ozs7Ozs7OztBQVEvQixNQUFNLE9BQU8sc0NBQXNDO0lBa0JqRCxZQUNVLFdBQXdCLEVBQ3hCLFlBQTJCLEVBQzNCLGNBQXFDLEVBQ3JDLE9BQTJCO1FBSDNCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLGlCQUFZLEdBQVosWUFBWSxDQUFlO1FBQzNCLG1CQUFjLEdBQWQsY0FBYyxDQUF1QjtRQUNyQyxZQUFPLEdBQVAsT0FBTyxDQUFvQjtRQXBCNUIsaUJBQVksR0FBVyxFQUFFLENBQUM7UUFDMUIsWUFBTyxHQUFRLENBQUMsQ0FBQztRQUNoQixvQkFBZSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRTFELGNBQVMsR0FBRyxLQUFLLENBQUM7UUFFMUIsa0JBQWEsR0FBUSxFQUFFLENBQUM7UUFDeEIs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RkRwRE8sc0NBQXNDO2tCQUxsRCxTQUFTOytCQUNFLHVDQUF1QzttTUFNeEMsWUFBWTtzQkFBcEIsS0FBSztnQkFDRyxPQUFPO3NCQUFmLEtBQUs7Z0JBQ0ksZUFBZTtzQkFBeEIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZXMsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBEYXRhU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2RhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBXaWRnZXRUeXBlLCBYU2lnaHRzQ29yZVNlcnZpY2UgfSBmcm9tICcuLi8uLi94LXNpZ2h0cy1jb3JlLnNlcnZpY2UnO1xuaW1wb3J0IHsgWHNpZ2h0c0JhY2tlbmRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMveHNpZ2h0cy1iYWNrZW5kLnNlcnZpY2UnO1xuaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInO1xuaW1wb3J0IHsgVG9hc3RyU2VydmljZSB9IGZyb20gJ25neC10b2FzdHInO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWIteC1zaWdodHMtYmFja2VuZC1wdWJsaWMtZGFzaGJvYXJkJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3gtc2lnaHRzLWJhY2tlbmQtcHVibGljLWRhc2hib2FyZC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3gtc2lnaHRzLWJhY2tlbmQtcHVibGljLWRhc2hib2FyZC5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgWFNpZ2h0c0JhY2tlbmRQdWJsaWNEYXNoYm9hcmRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpIGRhc2hib2FyZFVybDogc3RyaW5nID0gJyc7XG4gIEBJbnB1dCgpIGFkbWluSWQ6IGFueSA9IDA7XG4gIEBPdXRwdXQoKSBkYXNoYm9hcmRMb2FkZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHByaXZhdGUgbXRyU291cmNlID0gJzEzOCc7XG5cbiAgZGVjb2RlZFBhcmFtczogYW55ID0ge307XG4gIGRhc2hib2FyZERhdGE6IGFueSA9IHt9O1xuICBmaWx0ZXJzOiBhbnkgPSBbXTtcbiAgc2VsRmlsdGVyczogYW55ID0ge307XG4gIGRyb3Bkb3duU2V0dGluZ3M6IGFueSA9IHt9O1xuICB0YWJsZURhdGFzOiBhbnkgPSB7fTtcbiAgc2VyaWVzRGF0YTogYW55ID0ge31cbiAgZHVtcERhdGE6IGFueSA9IFtdO1xuICBjYWxsZWRTb3VyY2VEYXRhIDogYW55ID0ge307XG4gIHRhYmxlR3JhcGhzOiBhbnkgPSBbXTtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBkYXRhU2VydmljZTogRGF0YVNlcnZpY2UsXG4gICAgcHJpdmF0ZSB0b2FzdFNlcnZpY2U6IFRvYXN0clNlcnZpY2UsXG4gICAgcHJpdmF0ZSB4c2lnaHRzQmFja2VuZDogWHNpZ2h0c0JhY2tlbmRTZXJ2aWNlLFxuICAgIHByaXZhdGUgeHNpZ2h0czogWFNpZ2h0c0NvcmVTZXJ2aWNlXG4gICkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICAvLyB0aGlzLmRlY29kZVVybCgpO1xuICAgIHRoaXMuZHJvcGRvd25TZXR0aW5ncyA9IHtcbiAgICAgIHNpbmdsZVNlbGVjdGlvbjogZmFsc2UsXG4gICAgICBlbmFibGVDaGVja0FsbDogZmFsc2UsXG4gICAgICBhbGxvd1NlYXJjaEZpbHRlcjogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgIC8vQ2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgbGlmZWN5Y2xlIGhvb2suIFVzZSBpdCB0byBpbmplY3QgZGVwZW5kZW5jaWVzLCBidXQgYXZvaWQgYW55IHNlcmlvdXMgd29yayBoZXJlLlxuICAgIC8vQWRkICcke2ltcGxlbWVudHMgT25DaGFuZ2VzfScgdG8gdGhlIGNsYXNzLlxuICAgIGlmIChcbiAgICAgIGNoYW5nZXNbJ2Rhc2hib2FyZFVybCddLnByZXZpb3VzVmFsdWUgIT1cbiAgICAgICAgY2hhbmdlc1snZGFzaGJvYXJkVXJsJ10uY3VycmVudFZhbHVlIHx8XG4gICAgICBjaGFuZ2VzWydhZG1pbklkJ10ucHJldmlvdXNWYWx1ZSAhPSBjaGFuZ2VzWydhZG1pbklkJ10uY3VycmVudFZhbHVlXG4gICAgKSB7XG4gICAgICB0aGlzLmRlY29kZVVybCgpO1xuICAgIH1cbiAgfVxuXG4gIGRlY29kZVVybCgpIHtcbiAgICB0aGlzLmRhdGFTZXJ2aWNlLmdldERlY29kZWRVcmwodGhpcy5kYXNoYm9hcmRVcmwpLnRoZW4oKHJlczogYW55KSA9PiB7XG4gICAgICBjb25zdCB1cmxQYXJhbXNTdHIgPSByZXMuZGF0YVswXS5zcGxpdCgnPycpWzFdO1xuICAgICAgY29uc3QgdXJsUGFyYW1zQXJyID0gdXJsUGFyYW1zU3RyLnNwbGl0KCcmJyk7XG4gICAgICB1cmxQYXJhbXNBcnIuZm9yRWFjaCgocGFyYW06IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmRlY29kZWRQYXJhbXNbcGFyYW0uc3BsaXQoJz0nKVswXV0gPSBwYXJhbS5zcGxpdCgnPScpWzFdO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmdldEdyYXBoRGFzaEJvYXJkQnlJZCgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0R3JhcGhEYXNoQm9hcmRCeUlkKCkge1xuICAgIHRoaXMuYWRtaW5JZCA9IHRoaXMuZGVjb2RlZFBhcmFtcy5mb0FkbWluSWQ7XG4gICAgbGV0IGZpbHRlciA6IGFueSA9IHt9XG4gICAgdGhpcy5maWx0ZXJzLmZvckVhY2goKGY6IGFueSkgPT4ge1xuICAgICAgaWYoZmlsdGVyW2Yuc291cmNlSWRdKXtcbiAgICAgICAgZmlsdGVyW2Yuc291cmNlSWRdID0ge1xuICAgICAgICAgIC4uLmZpbHRlcltmLnNvdXJjZUlkXSxcbiAgICAgICAgICBbZi5maWVsZE5hbWVdOiBmLnNlbFZhbHVlcy5tYXAoKHZhbHVlOiBhbnkpID0+IHZhbHVlLnRleHQpXG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICBmaWx0ZXJbZi5zb3VyY2VJZF0gPSB7XG4gICAgICAgICAgW2YuZmllbGROYW1lXTogZi5zZWxWYWx1ZXMubWFwKCh2YWx1ZTogYW55KSA9PiB2YWx1ZS50ZXh0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLnNlbEZpbHRlcnMgPSBmaWx0ZXI7XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICBkYXNoYm9hcmRJZDogdGhpcy5kZWNvZGVkUGFyYW1zLmRhc2hfaWQsXG4gICAgICBmaWx0ZXJzOiBmaWx0ZXIsXG4gICAgICBmaWxlSWQ6IHRoaXMuZGVjb2RlZFBhcmFtcy5maWxlSWRcbiAgICB9XG4gICAgdGhpcy5kYXRhU2VydmljZVxuICAgICAgLmdldFNoYXJlZEJhY2tlbmREYXNoYm9hcmQoZGF0YSwgdGhpcy5hZG1pbklkKVxuICAgICAgLnRoZW4oYXN5bmMgKHJlczogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuZGFzaGJvYXJkRGF0YS5pZCA9IHJlcy5kYXRhWzBdLnNoYXJlX2lkO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSB0aGlzLmZpbHRlcnMubGVuZ3RoID09IDAgPyByZXMuZGF0YVswXT8uZmlsdGVycy5tYXAoKGZpbHRlcjogYW55KSA9PiB7XG4gICAgICAgICAgZmlsdGVyW1widmFsdWVzXCJdID0gSlNPTi5wYXJzZShmaWx0ZXJbXCJ2YWx1ZXNcIl0pLm1hcCgodmFsdWU6IGFueSwgaW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IGluZGV4LFxuICAgICAgICAgICAgICB0ZXh0OiB2YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pIFxuICAgICAgICAgIGZpbHRlcltcInNlbFZhbHVlc1wiXSA9IGZpbHRlcltcInNlbFZhbHVlc1wiXSA/IGZpbHRlcltcInNlbFZhbHVlc1wiXSA6IFtdO1xuICAgICAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgICAgIH0pID8/IFtdIDogdGhpcy5maWx0ZXJzO1xuICAgICAgICB0aGlzLnNlcmllc0RhdGEgPSByZXMuZGF0YVswXT8uc2VyaWVzRGF0YTtcbiAgICAgICAgcmVzLmRhdGFbMF0uZ3JhcGhzID0gcmVzLmRhdGFbMF0uZ3JhcGhzLnNvcnQodGhpcy5zZXRHcmFwaE9yZGVyKTtcbiAgICAgICAgdGhpcy5kYXNoYm9hcmREYXRhID0gcmVzLmRhdGFbMF07XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmRhc2hib2FyZERhdGEuZ3JhcGhzKSB7XG4gICAgICAgICAgY29uc3QgZ3JhcGggPSBlbGVtZW50O1xuICAgICAgICAgIGlmIChncmFwaC5ncmFwaFR5cGUgIT0gMiAmJiBncmFwaC5ncmFwaFR5cGUgIT0gMykge1xuICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuc2VyaWVzRGF0YVtncmFwaC5ncmFwaF9pZF07XG4gICAgICAgICAgICBsZXQgdGVtcEdyYXBoRGF0YSA9IHtcbiAgICAgICAgICAgICAgcm93czogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLnhBeGlzLFxuICAgICAgICAgICAgICBjb2x1bW5zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUueUF4aXMsXG4gICAgICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb25zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuYWdncmVhZ2F0aW9ucyxcbiAgICAgICAgICAgICAgZmlsdGVyOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuZmlsdGVyLFxuICAgICAgICAgICAgICBjdXN0b21WYXJpYWJsZTogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmRlcml2ZWRWYXJpYWJsZXMsXG4gICAgICAgICAgICAgIGRhdGFGb3JtYXQ6IFtdLFxuICAgICAgICAgICAgICBjb2xUb1Nob3c6IG51bGwsXG4gICAgICAgICAgICAgIGxhc3RMZXZlbENvbHVtbnM6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5sYXN0TGV2ZWxEYXRhID8/IFtdLFxuICAgICAgICAgICAgICBjaGFydFR5cGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5jaGFydFR5cGUsXG4gICAgICAgICAgICAgIGRhdGVWYXJpYWJsZTogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmRhdGVWYXJpYWJsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmJ1aWxkQ2hhcnQoZ3JhcGgsIHJlcywgdGVtcEdyYXBoRGF0YSwgdGhpcy5zZWxGaWx0ZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYoZ3JhcGguZ3JhcGhUeXBlID09IDMpe1xuICAgICAgICAgICAgdGhpcy50YWJsZUdyYXBocy5wdXNoKGdyYXBoKTsgXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGluZ0NvbXBsZXRlKClcbiAgICAgIH0pO1xuICB9XG4gIFxuICBidWlsZENoYXJ0KHdpZGdldERhdGE6IGFueSwgZGF0YTogYW55LCB0ZW1wRGF0YTogYW55LCBkYXNoYm9hcmRGaWx0ZXI6IGFueSkge1xuICAgIGxldCBfc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh3aWRnZXREYXRhLmdyYXBoVHlwZSA9PSAxKSB7XG4gICAgICAgIGxldCBncmFwaERhdGEgPSB7XG4gICAgICAgICAgZ3JhcGhJZDogJ2dyYXBoLScgKyB3aWRnZXREYXRhLmdyYXBoX2lkLFxuICAgICAgICAgIGdyYXBoVGl0bGU6IHdpZGdldERhdGEuZ3JhcGhuYW1lLFxuICAgICAgICAgIHJvd3M6IHRlbXBEYXRhLnJvd3NbMF0sXG4gICAgICAgICAgY29sdW1uczogdGVtcERhdGEuY29sdW1uc1swXSxcbiAgICAgICAgICBncmFwaFR5cGVzOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5jaGFydFR5cGVbMF0sXG4gICAgICAgICAgZ3JhcGhEYXRhOiBkYXRhLFxuICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb25zOiB0ZW1wRGF0YS5hZ2dyZWdhdGlvbkZ1bmN0aW9uc1swXSxcbiAgICAgICAgICBmaWx0ZXI6IHRlbXBEYXRhLmZpbHRlcixcbiAgICAgICAgICBjb2xvcnM6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmNvbENvbG91cnNbMF0sXG4gICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZTogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuZW5kRGF0ZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGVWYXJpYWJsZTogdGVtcERhdGEuZGF0ZVZhcmlhYmxlLFxuICAgICAgICAgIHJhbmdlRmlsdGVyOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5yYW5nZUZpbHRlcixcbiAgICAgICAgICBjb21wYXJpc29uOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5jb21wYXJpc29uID8/IFtdLFxuICAgICAgICAgIGN1c3RvbVZhcmlhYmxlOiB0ZW1wRGF0YS5jdXN0b21WYXJpYWJsZSxcbiAgICAgICAgICBkYXRhRm9ybWF0OiB0ZW1wRGF0YS5kYXRhRm9ybWF0ID8/IFtdLFxuICAgICAgICAgIGxhc3RMZXZlbENvbHVtbnM6IHRlbXBEYXRhLmxhc3RMZXZlbENvbHVtbnMgPz8gW10sXG4gICAgICAgICAgc2VsS2V5czogW10sXG4gICAgICAgICAgYWRtaW5JZDogdGhpcy5hZG1pbklkLFxuICAgICAgICAgIHNvdXJjZUlkOiB3aWRnZXREYXRhLnNvdXJjZUlkLFxuICAgICAgICAgIGRhc2hib2FyZEZpbHRlcjogZGFzaGJvYXJkRmlsdGVyLFxuICAgICAgICAgIHNoYXJlaWQ6IHRoaXMuZGFzaGJvYXJkRGF0YS5pZFxuICAgICAgICB9O1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBfc2VsZi54c2lnaHRzQmFja2VuZC5idWlsZChXaWRnZXRUeXBlLlRSRU5ELCBncmFwaERhdGEpO1xuICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSBpZiAod2lkZ2V0RGF0YS5ncmFwaFR5cGUgPT0gMykge1xuICAgICAgICBsZXQgdGFibGVEYXRhID0ge1xuICAgICAgICAgIHJvd3M6IHRlbXBEYXRhLnJvd3MsXG4gICAgICAgICAgY29sdW1uOiB0ZW1wRGF0YS5jb2x1bW5zLFxuICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb246IHRlbXBEYXRhLmFnZ3JlZ2F0aW9uRnVuY3Rpb25zLFxuICAgICAgICAgIGZpbHRlcjogdGVtcERhdGEuZmlsdGVyLFxuICAgICAgICAgIGRlcml2ZWRWYXJpYWJsZXM6IHRlbXBEYXRhLmN1c3RvbVZhcmlhYmxlLFxuICAgICAgICAgIGRhdGFGb3JtYXQ6IHRlbXBEYXRhLmRhdGFGb3JtYXQgPz8gW10sXG4gICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGVuZERhdGU6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgY2F0ZWdvcmllczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlLFxuICAgICAgICB9O1xuICAgICAgICBfc2VsZi50YWJsZURhdGFzWyd0YWJsZS1ncmFwaC0nICsgd2lkZ2V0RGF0YS5ncmFwaF9pZF0gPVxuICAgICAgICAgIGF3YWl0IF9zZWxmLnhzaWdodHMuYnVpbGQoV2lkZ2V0VHlwZS5QSVZPVF9UQUJMRSwgdGFibGVEYXRhKTtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBncmFwaGRhdGEgPSB7XG4gICAgICAgICAgZ3JhcGhJZDogJ2dyYXBoLScgKyB3aWRnZXREYXRhLmdyYXBoX2lkLFxuICAgICAgICAgIGdyYXBoVGl0bGU6IHdpZGdldERhdGEuZ3JhcGhuYW1lLFxuICAgICAgICAgIHJvd3M6IHRlbXBEYXRhLnJvd3MsXG4gICAgICAgICAgYWRtaW5JZDogdGhpcy5hZG1pbklkLFxuICAgICAgICAgIGNvbHVtbnM6IHRlbXBEYXRhLmNvbHVtbnMsXG4gICAgICAgICAgYWdncmVnYXRpb25GdW5jdGlvbnM6IHRlbXBEYXRhLmFnZ3JlZ2F0aW9uRnVuY3Rpb25zLFxuICAgICAgICAgIGZpbHRlcjogdGVtcERhdGEuZmlsdGVyLFxuICAgICAgICAgIGN1c3RvbVZhcmlhYmxlOiB0ZW1wRGF0YS5jdXN0b21WYXJpYWJsZSxcbiAgICAgICAgICBzZWxLZXlzOiBbXSxcbiAgICAgICAgICBzb3VyY2VJZDogd2lkZ2V0RGF0YS5zb3VyY2VJZCxcbiAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgc3RhcnREYXRlOiBudWxsLFxuICAgICAgICAgICAgZW5kRGF0ZTogbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGF0YUZvcm1hdDogdGVtcERhdGEuZGF0YUZvcm1hdCA/PyBbXSxcbiAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiB0ZW1wRGF0YS5sYXN0TGV2ZWxDb2x1bW5zID8/IFtdLFxuICAgICAgICAgIGdyYXBoVHlwZXM6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmNoYXJ0VHlwZSxcbiAgICAgICAgICBncmFwaERhdGE6IGRhdGEsXG4gICAgICAgICAgY29sb3JzOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5jb2xDb2xvdXJzLFxuICAgICAgICAgIGRhc2hib2FyZEZpbHRlcjogZGFzaGJvYXJkRmlsdGVyLFxuICAgICAgICAgIHNoYXJlaWQ6IHRoaXMuZGFzaGJvYXJkRGF0YS5pZFxuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBsZXQgcmVzcG9uc2UgPSB0aGlzLnhzaWdodHNCYWNrZW5kLmJ1aWxkKFdpZGdldFR5cGUuR1JBUEgsIGdyYXBoZGF0YSk7XG4gICAgICAgIH0sIDUwMClcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBsb2FkaW5nQ29tcGxldGUoKSB7IFxuICAgIHRoaXMucmVuZGVyVGFibGUoKTsgICAgIFxuICAgIHRoaXMuZGFzaGJvYXJkTG9hZGVkLmVtaXQoe1xuICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlbmRlclRhYmxlKCl7XG4gICAgaWYodGhpcy50YWJsZUdyYXBocy5sZW5ndGggPiAwKXtcbiAgICAgIHRoaXMudGFibGVHcmFwaHMuZm9yRWFjaChhc3luYyAoZ3JhcGg6IGFueSkgPT4ge1xuICAgICAgICAgIGxldCBkYXRhIDogYW55ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZURhc2hib2FyZChncmFwaCwgZmFsc2UpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhOiAnLCBkYXRhKTtcbiAgICAgICAgICBsZXQgdGVtcEdyYXBoRGF0YSA9IHtcbiAgICAgICAgICAgIHJvd3M6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS54QXhpcyxcbiAgICAgICAgICAgIGNvbHVtbnM6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS55QXhpcyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb25zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuYWdncmVhZ2F0aW9ucyxcbiAgICAgICAgICAgIGZpbHRlcjogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmZpbHRlcixcbiAgICAgICAgICAgIGN1c3RvbVZhcmlhYmxlOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuZGVyaXZlZFZhcmlhYmxlcyxcbiAgICAgICAgICAgIGRhdGFGb3JtYXQ6IFtdLFxuICAgICAgICAgICAgY29sVG9TaG93OiBudWxsLFxuICAgICAgICAgICAgbGFzdExldmVsQ29sdW1uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmxhc3RMZXZlbERhdGEgPz8gW10sXG4gICAgICAgICAgICBjaGFydFR5cGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5jaGFydFR5cGUsXG4gICAgICAgICAgICBkYXRlVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kYXRlVmFyaWFibGUsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoZ3JhcGguc291cmNlaWQudG9TdHJpbmcoKSA9PSB0aGlzLm10clNvdXJjZSkge1xuICAgICAgICAgICAgdGVtcEdyYXBoRGF0YSA9IHRoaXMuZGF0YVNlcnZpY2Uua2V5Q29udmVydGVyKFxuICAgICAgICAgICAgICB0ZW1wR3JhcGhEYXRhLFxuICAgICAgICAgICAgICBkYXRhWzBdLmNvbHVtbnMsXG4gICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYnVpbGRDaGFydChncmFwaCwgZGF0YVswXS5kYXRhLCB0ZW1wR3JhcGhEYXRhLCBudWxsKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgXG4gIGdlbmVyYXRlRGFzaGJvYXJkKGdyYXBoOiBhbnksIHJlQ2FsbDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5jYWxsZWRTb3VyY2VEYXRhLmhhc093blByb3BlcnR5KGdyYXBoLnNvdXJjZWlkLnRvU3RyaW5nKCkpICYmXG4gICAgICAgICFyZUNhbGxcbiAgICAgICkge1xuICAgICAgICByZXNvbHZlKHRoaXMuY2FsbGVkU291cmNlRGF0YVtncmFwaC5zb3VyY2VpZC50b1N0cmluZygpXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBcbiAgICAgICAgbGV0IGQgPSB7XG4gICAgICAgICAgZ3JhcGhJZDogZ3JhcGguZ3JhcGhfaWQsXG4gICAgICAgICAgZGF0YUZpbHRlcjogdGhpcy5zZWxGaWx0ZXJzLFxuICAgICAgICAgIGRpcmVjdGlvbjogMCxcbiAgICAgICAgICBhZG1pbklkOiB0aGlzLmFkbWluSWQsXG4gICAgICAgICAgc2hhcmVpZDogdGhpcy5kYXNoYm9hcmREYXRhLmlkLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogbnVsbCxcbiAgICAgICAgICBlbmREYXRlOiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhU2VydmljZS5nZXRHcmFwaERhdGFCeUlkKGQpLnRoZW4oKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICBTd2FsLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICBTd2FsLmNsb3NlKCk7XG4gICAgICAgICAgICBsZXQga2V5cyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgZHVtcERhdGEgPSByZXMuZGF0YTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGVkU291cmNlRGF0YVtncmFwaC5zb3VyY2VpZC50b1N0cmluZygpXSA9IGR1bXBEYXRhO1xuICAgICAgICAgICAgcmVzb2x2ZShkdW1wRGF0YSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgU3dhbC5oaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgU3dhbC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy50b2FzdFNlcnZpY2UuZXJyb3IoJ1VuYWJsZSB0byBGZXRjaCBEYXRhJyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXRHcmFwaE9yZGVyKGE6IGFueSwgYjogYW55KSB7XG4gICAgaWYgKGEub3JkZXIgPCBiLm9yZGVyKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhLm9yZGVyID4gYi5vcmRlcikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG59XG4iLCI8ZGl2ICpuZ0lmPVwiZGFzaGJvYXJkRGF0YSAhPSB7fVwiPlxuICAgIDxkaXYgY2xhc3M9XCJkYXNoX2dyYXBoX3NlY1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaF9ncmFwaCBkYXNoYm9hcmQtd3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJncmFwaF9uYW1lXCIgc3R5bGU9XCJoZWlnaHQ6IDQ0cHg7XCI+e3tkYXNoYm9hcmREYXRhLmRhc2hib2FyZF9uYW1lfX0gPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1jb250YWluZXJcIiAqbmdJZj1cImZpbHRlcnMubGVuZ3RoXCI+XG4gICAgICAgICAgICAgICAgPGgzPkZpbHRlcnM6PC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTNcIiAqbmdGb3I9XCJsZXQgZmlsdGVyIG9mIGZpbHRlcnM7bGV0IGkgPSBpbmRleFwiPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1tdWx0aXNlbGVjdC1kcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwbGFjZWhvbGRlcl09XCInU2VsZWN0ICcgKyBmaWx0ZXIuZmllbGROYW1lICsgJy4uLidcIiBbKG5nTW9kZWwpXT1cImZpbHRlci5zZWxWYWx1ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzZXR0aW5nc109XCJkcm9wZG93blNldHRpbmdzXCIgW2RhdGFdPVwiZmlsdGVyLnZhbHVlc1wiPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctbXVsdGlzZWxlY3QtZHJvcGRvd24+IFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiAoY2xpY2spPVwiZ2V0R3JhcGhEYXNoQm9hcmRCeUlkKClcIj5BcHBseSBGaWx0ZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBncmFwaF9kZXNpZ25cIiBpZD1cImRhc2hib2FyZFNjcmVlblwiPiBcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBncmFwaCBvZiBkYXNoYm9hcmREYXRhPy5ncmFwaHM7bGV0IGk9aW5kZXg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz1cInBhZ2UtYnJlYWtcIiAqbmdJZj1cImkgJSA1ID09IDAgJiYgaSAhPSAwXCI+PC9kaXY+IC0tPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImdyYXBoLmdyYXBoVHlwZSAhPSAzICYmIGdyYXBoLmdyYXBoVHlwZSAhPSAyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkLWdyYXBoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J2NvbC1sZy0xMic6IGdyYXBoLmdyYXBoX2luZGV4ID09IDEsJ2NvbC1sZy02JzogZ3JhcGguZ3JhcGhfaW5kZXggPT0gMiwnY29sLWxnLTQnOiBncmFwaC5ncmFwaF9pbmRleCA9PSAzLCdjb2wtbGctMyc6IGdyYXBoLmdyYXBoX2luZGV4ID09IDR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIm1pbi1oZWlnaHQ6IDM3MHB4OyBwYWRkaW5nOiAwcHg7XCI+IDwhLS0gbG9hZGVyIHN0YXJ0IC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyAqbmdJZj1cImdyYXBoLmdyYXBoX3N0cnVjdHVyZS54QXhpc1swXSAhPSAnKioqTEFCRUwqKionXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGJhY2tncm91bmQtY29sb3I6ICNlZWU7IHBhZGRpbmc6IDJweDtcIj57e2dyYXBoLmdyYXBobmFtZX19PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFtpZF09XCInZ3JhcGgtJysgZ3JhcGguZ3JhcGhfaWRcIiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzogMTBweDsgcGFkZGluZy10b3A6IDQ1cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZHMtZWxsaXBzaXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiA8IS0tIGxvYWRlciBlbmQgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJncmFwaC5ncmFwaFR5cGU9PTJcIiBjbGFzcz1cImRhc2hib2FyZC1ncmFwaFwiIFtpZF09XCIndGFibGUtZ3JhcGgtJysgZ3JhcGguZ3JhcGhfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydjb2wtbGctMTInOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGguZ3JhcGhfaW5kZXg9PTEsJ2NvbC1sZy02JzogZ3JhcGguZ3JhcGhfaW5kZXg9PTIsJ2NvbC1sZy00JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoLmdyYXBoX2luZGV4PT0zLCdjb2wtbGctMyc6IGdyYXBoLmdyYXBoX2luZGV4PT00fVwiIHN0eWxlPVwiZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGJvcmRlci1ib3R0b206IDBweDsgYmFja2dyb3VuZC1jb2xvcjphbnRpcXVld2hpdGU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGxvYWRlciBzdGFydCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7Z3JhcGguZ3JhcGhuYW1lfX08L2gyPiA8IS0tIGxvYWRlciBlbmQgLS0+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZ3JhcGguZ3JhcGhUeXBlPT0zXCIgY2xhc3M9XCJkYXNoYm9hcmQtZ3JhcGhcIiBbaWRdPVwiJ3RhYmxlLWdyYXBoLScrXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaC5ncmFwaF9pZFwiIFtuZ0NsYXNzXT1cInsnY29sLWxnLTEyJzogZ3JhcGguZ3JhcGhfaW5kZXg9PTEsJ2NvbC1sZy02JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoLmdyYXBoX2luZGV4PT0yLCdjb2wtbGctNCc6IGdyYXBoLmdyYXBoX2luZGV4PT0zLCdjb2wtbGctMyc6IGdyYXBoLmdyYXBoX2luZGV4PT00fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIm1pbi1oZWlnaHQ6IDMwMHB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBwYWRkaW5nLWJvdHRvbTogMiU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGxvYWRlciBzdGFydCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj57e2dyYXBoLmdyYXBobmFtZX19PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0YWJsZURhdGFzLmhhc093blByb3BlcnR5KCd0YWJsZS1ncmFwaC0nICsgZ3JhcGguZ3JhcGhfaWQpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4LXBpdm90LWdyaWQgW2FsbG93U29ydGluZ0J5U3VtbWFyeV09XCJ0cnVlXCIgW2FsbG93U29ydGluZ109XCJ0cnVlXCIgW2FsbG93RmlsdGVyaW5nXT1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd0JvcmRlcnNdPVwidHJ1ZVwiIFtkYXRhU291cmNlXT1cInRhYmxlRGF0YXNbJ3RhYmxlLWdyYXBoLScgKyBncmFwaC5ncmFwaF9pZF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4by1maWVsZC1jaG9vc2VyIFtlbmFibGVkXT1cImZhbHNlXCI+PC9keG8tZmllbGQtY2hvb3Nlcj4gPC9keC1waXZvdC1ncmlkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+IDxuZy1jb250YWluZXIgKm5nSWY9XCJ0YWJsZURhdGFzWyd0YWJsZS1ncmFwaC0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFwaC5ncmFwaF9pZF09PXVuZGVmaW5lZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZHMtZWxsaXBzaXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gbG9hZGVyIGVuZCAtLT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+IDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PiJdfQ==