import { Component, EventEmitter, Input, Output, } from '@angular/core';
import { WidgetType } from '../../x-sights-core.service';
import Swal from 'sweetalert2';
import * as i0 from "@angular/core";
import * as i1 from "../../services/data.service";
import * as i2 from "ngx-toastr";
import * as i3 from "../../services/xsights-backend.service";
import * as i4 from "../../x-sights-core.service";
import * as i5 from "ng-multiselect-dropdown";
import * as i6 from "devextreme-angular";
import * as i7 from "devextreme-angular/ui/nested";
import * as i8 from "@angular/common";
import * as i9 from "@angular/forms";
export class XSightsBackendPublicDashboardComponent {
    constructor(dataService, toastService, xsightsBackend, xsights) {
        this.dataService = dataService;
        this.toastService = toastService;
        this.xsightsBackend = xsightsBackend;
        this.xsights = xsights;
        this.dashboardUrl = '';
        this.adminId = 0;
        this.dashboardLoaded = new EventEmitter();
        this.mtrSource = '138';
        this.decodedParams = {};
        this.dashboardData = {};
        this.filters = [];
        this.selFilters = {};
        this.dropdownSettings = {};
        this.tableDatas = {};
        this.seriesData = {};
        this.dumpData = [];
        this.calledSourceData = {};
        this.tableGraphs = [];
    }
    ngOnInit() {
        // this.decodeUrl();
        this.dropdownSettings = {
            singleSelection: false,
            enableCheckAll: false,
            allowSearchFilter: true,
        };
    }
    ngOnChanges(changes) {
        //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.
        //Add '${implements OnChanges}' to the class.
        if (changes['dashboardUrl'].previousValue !=
            changes['dashboardUrl'].currentValue ||
            changes['adminId'].previousValue != changes['adminId'].currentValue) {
            this.decodeUrl();
        }
    }
    decodeUrl() {
        this.dataService.getDecodedUrl(this.dashboardUrl).then((res) => {
            const urlParamsStr = res.data[0].split('?')[1];
            const urlParamsArr = urlParamsStr.split('&');
            urlParamsArr.forEach((param) => {
                this.decodedParams[param.split('=')[0]] = param.split('=')[1];
            });
            this.getGraphDashBoardById();
        });
    }
    getGraphDashBoardById() {
        this.adminId = this.decodedParams.foAdminId;
        let filter = {};
        this.filters.forEach((f) => {
            if (filter[f.sourceId]) {
                filter[f.sourceId] = {
                    ...filter[f.sourceId],
                    [f.fieldName]: f.selValues.map((value) => value.text)
                };
            }
            else {
                filter[f.sourceId] = {
                    [f.fieldName]: f.selValues.map((value) => value.text)
                };
            }
        });
        this.selFilters = filter;
        let data = {
            dashboardId: this.decodedParams.dash_id,
            filters: filter,
            fileId: this.decodedParams.fileId
        };
        this.dataService
            .getSharedBackendDashboard(data, this.adminId)
            .then(async (res) => {
            this.dashboardData.id = res.data[0].share_id;
            this.filters = this.filters.length == 0 ? res.data[0]?.filters.map((filter) => {
                filter["values"] = JSON.parse(filter["values"]).map((value, index) => {
                    return {
                        id: index,
                        text: value
                    };
                });
                filter["selValues"] = filter["selValues"] ? filter["selValues"] : [];
                return filter;
            }) ?? [] : this.filters;
            this.seriesData = res.data[0]?.seriesData;
            res.data[0].graphs = res.data[0].graphs.sort(this.setGraphOrder);
            this.dashboardData = res.data[0];
            for (const element of this.dashboardData.graphs) {
                const graph = element;
                if (graph.graphType != 2 && graph.graphType != 3) {
                    let res = this.seriesData[graph.graph_id];
                    let tempGraphData = {
                        rows: graph.graph_structure.xAxis,
                        columns: graph.graph_structure.yAxis,
                        aggregationFunctions: graph.graph_structure.aggreagations,
                        filter: graph.graph_structure.filter,
                        customVariable: graph.graph_structure.derivedVariables,
                        dataFormat: [],
                        colToShow: null,
                        lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                        chartType: graph.graph_structure.chartType,
                        dateVariable: graph.graph_structure.dateVariable,
                    };
                    this.buildChart(graph, res, tempGraphData, this.selFilters);
                }
                else if (graph.graphType == 3) {
                    this.tableGraphs.push(graph);
                }
            }
            this.loadingComplete();
        });
    }
    buildChart(widgetData, data, tempData, dashboardFilter) {
        let _self = this;
        return new Promise(async (resolve, reject) => {
            if (widgetData.graphType == 1) {
                let graphData = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows[0],
                    columns: tempData.columns[0],
                    graphTypes: widgetData.graph_structure.chartType[0],
                    graphData: data,
                    aggregationFunctions: tempData.aggregationFunctions[0],
                    filter: tempData.filter,
                    colors: widgetData.graph_structure.colColours[0],
                    range: {
                        startDate: widgetData.graph_structure.startDate,
                        endDate: widgetData.graph_structure.endDate,
                    },
                    dateVariable: tempData.dateVariable,
                    rangeFilter: widgetData.graph_structure.rangeFilter,
                    comparison: widgetData.graph_structure.comparison ?? [],
                    customVariable: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                    selKeys: [],
                    adminId: this.adminId,
                    sourceId: widgetData.sourceId,
                    dashboardFilter: dashboardFilter,
                    shareid: this.dashboardData.id
                };
                let response = await _self.xsightsBackend.build(WidgetType.TREND, graphData);
                resolve(response);
            }
            else if (widgetData.graphType == 3) {
                let tableData = {
                    rows: tempData.rows,
                    column: tempData.columns,
                    aggregationFunction: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    derivedVariables: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    range: {
                        startDate: null,
                        endDate: null
                    },
                    data: data,
                    categories: widgetData.graph_structure.chartType,
                };
                _self.tableDatas['table-graph-' + widgetData.graph_id] =
                    await _self.xsights.build(WidgetType.PIVOT_TABLE, tableData);
                resolve(true);
            }
            else {
                let graphdata = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows,
                    adminId: this.adminId,
                    columns: tempData.columns,
                    aggregationFunctions: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    customVariable: tempData.customVariable,
                    selKeys: [],
                    sourceId: widgetData.sourceId,
                    range: {
                        startDate: null,
                        endDate: null
                    },
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                    graphTypes: widgetData.graph_structure.chartType,
                    graphData: data,
                    colors: widgetData.graph_structure.colColours,
                    dashboardFilter: dashboardFilter,
                    shareid: this.dashboardData.id
                };
                setTimeout(() => {
                    let response = this.xsightsBackend.build(WidgetType.GRAPH, graphdata);
                }, 500);
                resolve(true);
            }
        });
    }
    loadingComplete() {
        this.renderTable();
        this.dashboardLoaded.emit({
            isLoaded: true
        });
    }
    async renderTable() {
        if (this.tableGraphs.length > 0) {
            this.tableGraphs.forEach(async (graph) => {
                let data = await this.generateDashboard(graph, false);
                let tempGraphData = {
                    rows: graph.graph_structure.xAxis,
                    columns: graph.graph_structure.yAxis,
                    aggregationFunctions: graph.graph_structure.aggreagations,
                    filter: graph.graph_structure.filter,
                    customVariable: graph.graph_structure.derivedVariables,
                    dataFormat: [],
                    colToShow: null,
                    lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                    chartType: graph.graph_structure.chartType,
                    dateVariable: graph.graph_structure.dateVariable,
                };
                let dumpData = data;
                if (graph.sourceid.toString() == this.mtrSource) {
                    tempGraphData = this.dataService.keyConverter(tempGraphData, data[0].columns, 1);
                    dumpData = data[0].data;
                }
                this.buildChart(graph, dumpData, tempGraphData, null);
            });
        }
    }
    generateDashboard(graph, reCall = false) {
        return new Promise((resolve, reject) => {
            if (this.calledSourceData.hasOwnProperty(graph.sourceid.toString()) &&
                !reCall) {
                resolve(this.calledSourceData[graph.sourceid.toString()]);
            }
            else {
                let d = {
                    graphId: graph.graph_id,
                    dataFilter: this.selFilters,
                    direction: 0,
                    adminId: this.adminId,
                    shareid: this.dashboardData.id,
                    startDate: null,
                    endDate: null
                };
                this.dataService.getGraphDataById(d).then((res) => {
                    Swal.hideLoading();
                    Swal.close();
                    let keys = null;
                    let dumpData = res.data;
                    this.calledSourceData[graph.sourceid.toString()] = dumpData;
                    resolve(dumpData);
                })
                    .catch((err) => {
                    Swal.hideLoading();
                    Swal.close();
                    this.toastService.error('Unable to Fetch Data');
                });
            }
        });
    }
    setGraphOrder(a, b) {
        if (a.order < b.order) {
            return -1;
        }
        if (a.order > b.order) {
            return 1;
        }
        return 0;
    }
}
XSightsBackendPublicDashboardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsBackendPublicDashboardComponent, deps: [{ token: i1.DataService }, { token: i2.ToastrService }, { token: i3.XsightsBackendService }, { token: i4.XSightsCoreService }], target: i0.ɵɵFactoryTarget.Component });
XSightsBackendPublicDashboardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.0.3", type: XSightsBackendPublicDashboardComponent, selector: "lib-x-sights-backend-public-dashboard", inputs: { dashboardUrl: "dashboardUrl", adminId: "adminId" }, outputs: { dashboardLoaded: "dashboardLoaded" }, usesOnChanges: true, ngImport: i0, template: "<div *ngIf=\"dashboardData != {}\">\n    <div class=\"dash_graph_sec\">\n        <div class=\"dash_graph dashboard-wrapper\">\n            <div>\n                <h3 class=\"graph_name\" style=\"height: 44px;\">{{dashboardData.dashboard_name}} </h3>\n            </div>\n            <div class=\"filter-container\" *ngIf=\"filters.length\">\n                <h3>Filters:</h3>\n                <div class=\"col-lg-12 row\">\n                    <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i = index\"> \n                        <ng-multiselect-dropdown\n                            [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\"\n                            [settings]=\"dropdownSettings\" [data]=\"filter.values\"> \n                        </ng-multiselect-dropdown> \n                    </div>\n                </div>\n                <div class=\"col-lg-12\">\n                    <button class=\"btn btn-primary\" (click)=\"getGraphDashBoardById()\">Apply Filter</button>\n                </div>\n            </div>\n            <div class=\"row graph_design\" id=\"dashboardScreen\"> \n                <ng-container *ngFor=\"let graph of dashboardData?.graphs;let i=index;\">\n                    <!-- <div class=\"page-break\" *ngIf=\"i % 5 == 0 && i != 0\"></div> -->\n                    \n                    <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                        <div class=\"dashboard-graph\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                            <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                            <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div> <!-- loader end -->\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div *ngIf=\"graph.graphType==2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                        [ngClass]=\"{'col-lg-12':\n                        graph.graph_index==1,'col-lg-6': graph.graph_index==2,'col-lg-4':\n                        graph.graph_index==3,'col-lg-3': graph.graph_index==4}\" style=\"display: flex;\n                        flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                        <!-- loader start -->\n                        <h2 style=\"text-align: center; margin-bottom: 0px;\">\n                            {{graph.graphname}}</h2> <!-- loader end -->\n                    </div>\n                    <div *ngIf=\"graph.graphType==3\" class=\"dashboard-graph\" [id]=\"'table-graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                        <!-- loader start -->\n                        <h3 style=\"text-align: center;\">{{graph.graphname}}</h3>\n                        <ng-container *ngIf=\"tableDatas.hasOwnProperty('table-graph-' + graph.graph_id)\">\n                            <dx-pivot-grid [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                [showBorders]=\"true\" [dataSource]=\"tableDatas['table-graph-' + graph.graph_id]\">\n                                <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                        </ng-container> <ng-container *ngIf=\"tableDatas['table-graph-' +\n                            graph.graph_id]==undefined\">\n                            <div class=\"lds-ellipsis\">\n                                <div></div>\n                                <div>\n                                </div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                        </ng-container>\n                        <!-- loader end -->\n                    </div>\n                </ng-container> </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec .dash_graph{background-color:#fff}.dash_graph_sec .dash_graph .graph_name{text-align:center;background-color:#000;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:1px solid #e4e4e4;border-top:0px;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.captcha-box{display:flex;justify-content:center;align-items:center;height:100%;position:absolute;width:100%;padding:5%;background:#ccc}.dashboard-wrapper{box-shadow:1px 1px 10px #ddd;border-radius:5px}.main_container{background-size:cover;background-repeat:no-repeat}@media print{.page-break{page-break-after:always!important}#dashboardScreen{display:block}}@media print{::ng-deep body,::ng-deep html,::ng-deep #wrapper{width:100%!important}::ng-deep .highcharts-root{width:100%!important}}\n"], components: [{ type: i5.MultiSelectComponent, selector: "ng-multiselect-dropdown", inputs: ["disabled", "placeholder", "settings", "data"], outputs: ["onFilterChange", "onDropDownClose", "onSelect", "onDeSelect", "onSelectAll", "onDeSelectAll"] }, { type: i6.DxPivotGridComponent, selector: "dx-pivot-grid", inputs: ["allowExpandAll", "allowFiltering", "allowSorting", "allowSortingBySummary", "dataFieldArea", "dataSource", "disabled", "elementAttr", "encodeHtml", "export", "fieldChooser", "fieldPanel", "headerFilter", "height", "hideEmptySummaryCells", "hint", "loadPanel", "rowHeaderLayout", "rtlEnabled", "scrolling", "showBorders", "showColumnGrandTotals", "showColumnTotals", "showRowGrandTotals", "showRowTotals", "showTotalsPrior", "stateStoring", "tabIndex", "texts", "visible", "width", "wordWrapEnabled"], outputs: ["onCellClick", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDisposing", "onExporting", "onInitialized", "onOptionChanged", "allowExpandAllChange", "allowFilteringChange", "allowSortingChange", "allowSortingBySummaryChange", "dataFieldAreaChange", "dataSourceChange", "disabledChange", "elementAttrChange", "encodeHtmlChange", "exportChange", "fieldChooserChange", "fieldPanelChange", "headerFilterChange", "heightChange", "hideEmptySummaryCellsChange", "hintChange", "loadPanelChange", "rowHeaderLayoutChange", "rtlEnabledChange", "scrollingChange", "showBordersChange", "showColumnGrandTotalsChange", "showColumnTotalsChange", "showRowGrandTotalsChange", "showRowTotalsChange", "showTotalsPriorChange", "stateStoringChange", "tabIndexChange", "textsChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { type: i7.DxoFieldChooserComponent, selector: "dxo-field-chooser", inputs: ["allowSearch", "applyChangesMode", "enabled", "height", "layout", "searchTimeout", "texts", "title", "width"] }], directives: [{ type: i8.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i9.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i9.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i8.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsBackendPublicDashboardComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-x-sights-backend-public-dashboard', template: "<div *ngIf=\"dashboardData != {}\">\n    <div class=\"dash_graph_sec\">\n        <div class=\"dash_graph dashboard-wrapper\">\n            <div>\n                <h3 class=\"graph_name\" style=\"height: 44px;\">{{dashboardData.dashboard_name}} </h3>\n            </div>\n            <div class=\"filter-container\" *ngIf=\"filters.length\">\n                <h3>Filters:</h3>\n                <div class=\"col-lg-12 row\">\n                    <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i = index\"> \n                        <ng-multiselect-dropdown\n                            [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\"\n                            [settings]=\"dropdownSettings\" [data]=\"filter.values\"> \n                        </ng-multiselect-dropdown> \n                    </div>\n                </div>\n                <div class=\"col-lg-12\">\n                    <button class=\"btn btn-primary\" (click)=\"getGraphDashBoardById()\">Apply Filter</button>\n                </div>\n            </div>\n            <div class=\"row graph_design\" id=\"dashboardScreen\"> \n                <ng-container *ngFor=\"let graph of dashboardData?.graphs;let i=index;\">\n                    <!-- <div class=\"page-break\" *ngIf=\"i % 5 == 0 && i != 0\"></div> -->\n                    \n                    <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                        <div class=\"dashboard-graph\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                            <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                            <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div> <!-- loader end -->\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div *ngIf=\"graph.graphType==2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                        [ngClass]=\"{'col-lg-12':\n                        graph.graph_index==1,'col-lg-6': graph.graph_index==2,'col-lg-4':\n                        graph.graph_index==3,'col-lg-3': graph.graph_index==4}\" style=\"display: flex;\n                        flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                        <!-- loader start -->\n                        <h2 style=\"text-align: center; margin-bottom: 0px;\">\n                            {{graph.graphname}}</h2> <!-- loader end -->\n                    </div>\n                    <div *ngIf=\"graph.graphType==3\" class=\"dashboard-graph\" [id]=\"'table-graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                        <!-- loader start -->\n                        <h3 style=\"text-align: center;\">{{graph.graphname}}</h3>\n                        <ng-container *ngIf=\"tableDatas.hasOwnProperty('table-graph-' + graph.graph_id)\">\n                            <dx-pivot-grid [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                [showBorders]=\"true\" [dataSource]=\"tableDatas['table-graph-' + graph.graph_id]\">\n                                <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                        </ng-container> <ng-container *ngIf=\"tableDatas['table-graph-' +\n                            graph.graph_id]==undefined\">\n                            <div class=\"lds-ellipsis\">\n                                <div></div>\n                                <div>\n                                </div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                        </ng-container>\n                        <!-- loader end -->\n                    </div>\n                </ng-container> </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec .dash_graph{background-color:#fff}.dash_graph_sec .dash_graph .graph_name{text-align:center;background-color:#000;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:1px solid #e4e4e4;border-top:0px;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.captcha-box{display:flex;justify-content:center;align-items:center;height:100%;position:absolute;width:100%;padding:5%;background:#ccc}.dashboard-wrapper{box-shadow:1px 1px 10px #ddd;border-radius:5px}.main_container{background-size:cover;background-repeat:no-repeat}@media print{.page-break{page-break-after:always!important}#dashboardScreen{display:block}}@media print{::ng-deep body,::ng-deep html,::ng-deep #wrapper{width:100%!important}::ng-deep .highcharts-root{width:100%!important}}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.DataService }, { type: i2.ToastrService }, { type: i3.XsightsBackendService }, { type: i4.XSightsCoreService }]; }, propDecorators: { dashboardUrl: [{
                type: Input
            }], adminId: [{
                type: Input
            }], dashboardLoaded: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieC1zaWdodHMtYmFja2VuZC1wdWJsaWMtZGFzaGJvYXJkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3gtc2lnaHRzLWNvcmUvc3JjL2xpYi9jb21wb25lbnRzL3gtc2lnaHRzLWJhY2tlbmQtcHVibGljLWRhc2hib2FyZC94LXNpZ2h0cy1iYWNrZW5kLXB1YmxpYy1kYXNoYm9hcmQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMveC1zaWdodHMtY29yZS9zcmMvbGliL2NvbXBvbmVudHMveC1zaWdodHMtYmFja2VuZC1wdWJsaWMtZGFzaGJvYXJkL3gtc2lnaHRzLWJhY2tlbmQtcHVibGljLWRhc2hib2FyZC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxHQUVQLE1BQU0sZUFBZSxDQUFDO0FBSXZCLE9BQU8sRUFBRSxVQUFVLEVBQXNCLE1BQU0sNkJBQTZCLENBQUM7QUFFN0UsT0FBTyxJQUFJLE1BQU0sYUFBYSxDQUFDOzs7Ozs7Ozs7OztBQVEvQixNQUFNLE9BQU8sc0NBQXNDO0lBa0JqRCxZQUNVLFdBQXdCLEVBQ3hCLFlBQTJCLEVBQzNCLGNBQXFDLEVBQ3JDLE9BQTJCO1FBSDNCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLGlCQUFZLEdBQVosWUFBWSxDQUFlO1FBQzNCLG1CQUFjLEdBQWQsY0FBYyxDQUF1QjtRQUNyQyxZQUFPLEdBQVAsT0FBTyxDQUFvQjtRQXBCNUIsaUJBQVksR0FBVyxFQUFFLENBQUM7UUFDMUIsWUFBTyxHQUFRLENBQUMsQ0FBQztRQUNoQixvQkFBZSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRTFELGNBQVMsR0FBRyxLQUFLLENBQUM7UUFFMUIsa0JBQWEsR0FBUSxFQUFFLENBQUM7UUFDeEIsa0JBQWEsR0FBUSxFQUFFLENBQUM7UUFDeEIsWUFBTyxHQUFRLEVBQUUsQ0FBQztRQUNsQixlQUFVLEdBQVEsRUFBRSxDQUFDO1FBQ3JCLHFCQUFnQixHQUFRLEVBQUUsQ0FBQztRQUMzQixlQUFVLEdBQVEsRUFBRSxDQUFDO1FBQ3JCLGVBQVUsR0FBUSxFQUFFLENBQUE7UUFDcEIsYUFBUSxHQUFRLEVBQUUsQ0FBQztRQUNuQixxQkFBZ0IsR0FBUyxFQUFFLENBQUM7UUFDNUIsZ0JBQVcsR0FBUSxFQUFFLENBQUM7SUFNbkIsQ0FBQztJQUVKLFFBQVE7UUFDTixvQkFBb0I7UUFDcEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHO1lBQ3RCLGVBQWUsRUFBRSxLQUFLO1lBQ3RCLGNBQWMsRUFBRSxLQUFLO1lBQ3JCLGlCQUFpQixFQUFFLElBQUk7U0FDeEIsQ0FBQztJQUNKLENBQUM7SUFFRCxXQUFXLENBQUMsT0FBc0I7UUFDaEMseUdBQXlHO1FBQ3pHLDZDQUE2QztRQUM3QyxJQUNFLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxhQUFhO1lBQ25DLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxZQUFZO1lBQ3RDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxhQUFhLElBQUksT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFlBQVksRUFDbkU7WUFDQSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDbEI7SUFDSCxDQUFDO0lBRUQsU0FBUztRQUNQLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtZQUNsRSxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQyxNQUFNLFlBQVksR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRTtnQkFDbEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoRSxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELHFCQUFxQjtRQUNuQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFTLEVBQUUsQ0FBQTtRQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQU0sRUFBRSxFQUFFO1lBQzlCLElBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBQztnQkFDcEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRztvQkFDbkIsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztvQkFDckIsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7aUJBQzNELENBQUE7YUFDRjtpQkFBSTtnQkFDSCxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHO29CQUNuQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQVUsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztpQkFDM0QsQ0FBQTthQUNGO1FBQ0gsQ0FBQyxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztRQUN6QixJQUFJLElBQUksR0FBRztZQUNULFdBQVcsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU87WUFDdkMsT0FBTyxFQUFFLE1BQU07WUFDZixNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNO1NBQ2xDLENBQUE7UUFDRCxJQUFJLENBQUMsV0FBVzthQUNiLHlCQUF5QixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDO2FBQzdDLElBQUksQ0FBQyxLQUFLLEVBQUUsR0FBUSxFQUFFLEVBQUU7WUFDdkIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7WUFDN0MsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQVcsRUFBRSxFQUFFO2dCQUNqRixNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFVLEVBQUUsS0FBVSxFQUFFLEVBQUU7b0JBQzdFLE9BQU87d0JBQ0wsRUFBRSxFQUFFLEtBQUs7d0JBQ1QsSUFBSSxFQUFFLEtBQUs7cUJBQ1osQ0FBQTtnQkFDSCxDQUFDLENBQUMsQ0FBQTtnQkFDRixNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDckUsT0FBTyxNQUFNLENBQUM7WUFDaEIsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUM7WUFDMUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNqRSxJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsS0FBSyxNQUFNLE9BQU8sSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRTtnQkFDL0MsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDO2dCQUN0QixJQUFJLEtBQUssQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFO29CQUNoRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDMUMsSUFBSSxhQUFhLEdBQUc7d0JBQ2xCLElBQUksRUFBRSxLQUFLLENBQUMsZUFBZSxDQUFDLEtBQUs7d0JBQ2pDLE9BQU8sRUFBRSxLQUFLLENBQUMsZUFBZSxDQUFDLEtBQUs7d0JBQ3BDLG9CQUFvQixFQUFFLEtBQUssQ0FBQyxlQUFlLENBQUMsYUFBYTt3QkFDekQsTUFBTSxFQUFFLEtBQUssQ0FBQyxlQUFlLENBQUMsTUFBTTt3QkFDcEMsY0FBYyxFQUFFLEtBQUssQ0FBQyxlQUFlLENBQUMsZ0JBQWdCO3dCQUN0RCxVQUFVLEVBQUUsRUFBRTt3QkFDZCxTQUFTLEVBQUUsSUFBSTt3QkFDZixnQkFBZ0IsRUFBRSxLQUFLLENBQUMsZUFBZSxDQUFDLGFBQWEsSUFBSSxFQUFFO3dCQUMzRCxTQUFTLEVBQUUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxTQUFTO3dCQUMxQyxZQUFZLEVBQUUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxZQUFZO3FCQUNqRCxDQUFDO29CQUNGLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2lCQUM3RDtxQkFBTSxJQUFHLEtBQUssQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFDO29CQUM3QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDOUI7YUFDRjtZQUNELElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQTtRQUN4QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxVQUFVLENBQUMsVUFBZSxFQUFFLElBQVMsRUFBRSxRQUFhLEVBQUUsZUFBb0I7UUFDeEUsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUMzQyxJQUFJLFVBQVUsQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFO2dCQUM3QixJQUFJLFNBQVMsR0FBRztvQkFDZCxPQUFPLEVBQUUsUUFBUSxHQUFHLFVBQVUsQ0FBQyxRQUFRO29CQUN2QyxVQUFVLEVBQUUsVUFBVSxDQUFDLFNBQVM7b0JBQ2hDLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDdEIsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO29CQUM1QixVQUFVLEVBQUUsVUFBVSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO29CQUNuRCxTQUFTLEVBQUUsSUFBSTtvQkFDZixvQkFBb0IsRUFBRSxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO29CQUN0RCxNQUFNLEVBQUUsUUFBUSxDQUFDLE1BQU07b0JBQ3ZCLE1BQU0sRUFBRSxVQUFVLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7b0JBQ2hELEtBQUssRUFBRTt3QkFDTCxTQUFTLEVBQUUsVUFBVSxDQUFDLGVBQWUsQ0FBQyxTQUFTO3dCQUMvQyxPQUFPLEVBQUUsVUFBVSxDQUFDLGVBQWUsQ0FBQyxPQUFPO3FCQUM1QztvQkFDRCxZQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7b0JBQ25DLFdBQVcsRUFBRSxVQUFVLENBQUMsZUFBZSxDQUFDLFdBQVc7b0JBQ25ELFVBQVUsRUFBRSxVQUFVLENBQUMsZUFBZSxDQUFDLFVBQVUsSUFBSSxFQUFFO29CQUN2RCxjQUFjLEVBQUUsUUFBUSxDQUFDLGNBQWM7b0JBQ3ZDLFVBQVUsRUFBRSxRQUFRLENBQUMsVUFBVSxJQUFJLEVBQUU7b0JBQ3JDLGdCQUFnQixFQUFFLFFBQVEsQ0FBQyxnQkFBZ0IsSUFBSSxFQUFFO29CQUNqRCxPQUFPLEVBQUUsRUFBRTtvQkFDWCxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87b0JBQ3JCLFFBQVEsRUFBRSxVQUFVLENBQUMsUUFBUTtvQkFDN0IsZUFBZSxFQUFFLGVBQWU7b0JBQ2hDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUU7aUJBQy9CLENBQUM7Z0JBQ0YsSUFBSSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO2dCQUM3RSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDbkI7aUJBQU0sSUFBSSxVQUFVLENBQUMsU0FBUyxJQUFJLENBQUMsRUFBRTtnQkFDcEMsSUFBSSxTQUFTLEdBQUc7b0JBQ2QsSUFBSSxFQUFFLFFBQVEsQ0FBQyxJQUFJO29CQUNuQixNQUFNLEVBQUUsUUFBUSxDQUFDLE9BQU87b0JBQ3hCLG1CQUFtQixFQUFFLFFBQVEsQ0FBQyxvQkFBb0I7b0JBQ2xELE1BQU0sRUFBRSxRQUFRLENBQUMsTUFBTTtvQkFDdkIsZ0JBQWdCLEVBQUUsUUFBUSxDQUFDLGNBQWM7b0JBQ3pDLFVBQVUsRUFBRSxRQUFRLENBQUMsVUFBVSxJQUFJLEVBQUU7b0JBQ3JDLEtBQUssRUFBRTt3QkFDTCxTQUFTLEVBQUUsSUFBSTt3QkFDZixPQUFPLEVBQUUsSUFBSTtxQkFDZDtvQkFDRCxJQUFJLEVBQUUsSUFBSTtvQkFDVixVQUFVLEVBQUUsVUFBVSxDQUFDLGVBQWUsQ0FBQyxTQUFTO2lCQUNqRCxDQUFDO2dCQUNGLEtBQUssQ0FBQyxVQUFVLENBQUMsY0FBYyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUM7b0JBQ3BELE1BQU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztnQkFDL0QsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2Y7aUJBQU07Z0JBQ0wsSUFBSSxTQUFTLEdBQUc7b0JBQ2QsT0FBTyxFQUFFLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUTtvQkFDdkMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxTQUFTO29CQUNoQyxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUk7b0JBQ25CLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztvQkFDckIsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPO29CQUN6QixvQkFBb0IsRUFBRSxRQUFRLENBQUMsb0JBQW9CO29CQUNuRCxNQUFNLEVBQUUsUUFBUSxDQUFDLE1BQU07b0JBQ3ZCLGNBQWMsRUFBRSxRQUFRLENBQUMsY0FBYztvQkFDdkMsT0FBTyxFQUFFLEVBQUU7b0JBQ1gsUUFBUSxFQUFFLFVBQVUsQ0FBQyxRQUFRO29CQUM3QixLQUFLLEVBQUU7d0JBQ0wsU0FBUyxFQUFFLElBQUk7d0JBQ2YsT0FBTyxFQUFFLElBQUk7cUJBQ2Q7b0JBQ0QsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVLElBQUksRUFBRTtvQkFDckMsZ0JBQWdCLEVBQUUsUUFBUSxDQUFDLGdCQUFnQixJQUFJLEVBQUU7b0JBQ2pELFVBQVUsRUFBRSxVQUFVLENBQUMsZUFBZSxDQUFDLFNBQVM7b0JBQ2hELFNBQVMsRUFBRSxJQUFJO29CQUNmLE1BQU0sRUFBRSxVQUFVLENBQUMsZUFBZSxDQUFDLFVBQVU7b0JBQzdDLGVBQWUsRUFBRSxlQUFlO29CQUNoQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFO2lCQUMvQixDQUFDO2dCQUNGLFVBQVUsQ0FBQyxHQUFHLEVBQUU7b0JBQ2QsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztnQkFDeEUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO2dCQUNQLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNmO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsZUFBZTtRQUNiLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQztZQUN4QixRQUFRLEVBQUUsSUFBSTtTQUNmLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxLQUFLLENBQUMsV0FBVztRQUNmLElBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO1lBQzdCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFVLEVBQUUsRUFBRTtnQkFDMUMsSUFBSSxJQUFJLEdBQVMsTUFBTSxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUM1RCxJQUFJLGFBQWEsR0FBRztvQkFDbEIsSUFBSSxFQUFFLEtBQUssQ0FBQyxlQUFlLENBQUMsS0FBSztvQkFDakMsT0FBTyxFQUFFLEtBQUssQ0FBQyxlQUFlLENBQUMsS0FBSztvQkFDcEMsb0JBQW9CLEVBQUUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxhQUFhO29CQUN6RCxNQUFNLEVBQUUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxNQUFNO29CQUNwQyxjQUFjLEVBQUUsS0FBSyxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0I7b0JBQ3RELFVBQVUsRUFBRSxFQUFFO29CQUNkLFNBQVMsRUFBRSxJQUFJO29CQUNmLGdCQUFnQixFQUFFLEtBQUssQ0FBQyxlQUFlLENBQUMsYUFBYSxJQUFJLEVBQUU7b0JBQzNELFNBQVMsRUFBRSxLQUFLLENBQUMsZUFBZSxDQUFDLFNBQVM7b0JBQzFDLFlBQVksRUFBRSxLQUFLLENBQUMsZUFBZSxDQUFDLFlBQVk7aUJBQ2pELENBQUM7Z0JBQ0YsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDO2dCQUNwQixJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtvQkFDL0MsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUMzQyxhQUFhLEVBQ2IsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFDZixDQUFDLENBQ0YsQ0FBQztvQkFDRixRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztpQkFDekI7Z0JBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUMxRCxDQUFDLENBQUMsQ0FBQTtTQUNIO0lBQ0gsQ0FBQztJQUdELGlCQUFpQixDQUFDLEtBQVUsRUFBRSxTQUFrQixLQUFLO1FBQ25ELE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDckMsSUFDRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQy9ELENBQUMsTUFBTSxFQUNQO2dCQUNBLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDM0Q7aUJBQU07Z0JBRUwsSUFBSSxDQUFDLEdBQUc7b0JBQ04sT0FBTyxFQUFFLEtBQUssQ0FBQyxRQUFRO29CQUN2QixVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7b0JBQzNCLFNBQVMsRUFBRSxDQUFDO29CQUNaLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztvQkFDckIsT0FBTyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRTtvQkFDOUIsU0FBUyxFQUFFLElBQUk7b0JBQ2YsT0FBTyxFQUFFLElBQUk7aUJBQ2QsQ0FBQTtnQkFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQVEsRUFBRSxFQUFFO29CQUNuRCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ25CLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDYixJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7b0JBQ2hCLElBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQ3hCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDO29CQUM1RCxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3BCLENBQUMsQ0FBQztxQkFDRCxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtvQkFDYixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ25CLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDYixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO2dCQUNsRCxDQUFDLENBQUMsQ0FBQzthQUNOO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsYUFBYSxDQUFDLENBQU0sRUFBRSxDQUFNO1FBQzFCLElBQUksQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFO1lBQ3JCLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDWDtRQUNELElBQUksQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFO1lBQ3JCLE9BQU8sQ0FBQyxDQUFDO1NBQ1Y7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7O21JQTFSVSxzQ0FBc0M7dUhBQXRDLHNDQUFzQyxpTkNyQm5ELG95SkF5RU07MkZEcERPLHNDQUFzQztrQkFMbEQsU0FBUzsrQkFDRSx1Q0FBdUM7bU1BTXhDLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLO2dCQUNJLGVBQWU7c0JBQXhCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2VzLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAndHNsaWInO1xuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgV2lkZ2V0VHlwZSwgWFNpZ2h0c0NvcmVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4veC1zaWdodHMtY29yZS5zZXJ2aWNlJztcbmltcG9ydCB7IFhzaWdodHNCYWNrZW5kU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3hzaWdodHMtYmFja2VuZC5zZXJ2aWNlJztcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJztcbmltcG9ydCB7IFRvYXN0clNlcnZpY2UgfSBmcm9tICduZ3gtdG9hc3RyJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLXgtc2lnaHRzLWJhY2tlbmQtcHVibGljLWRhc2hib2FyZCcsXG4gIHRlbXBsYXRlVXJsOiAnLi94LXNpZ2h0cy1iYWNrZW5kLXB1YmxpYy1kYXNoYm9hcmQuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi94LXNpZ2h0cy1iYWNrZW5kLXB1YmxpYy1kYXNoYm9hcmQuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIFhTaWdodHNCYWNrZW5kUHVibGljRGFzaGJvYXJkQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKSBkYXNoYm9hcmRVcmw6IHN0cmluZyA9ICcnO1xuICBASW5wdXQoKSBhZG1pbklkOiBhbnkgPSAwO1xuICBAT3V0cHV0KCkgZGFzaGJvYXJkTG9hZGVkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBwcml2YXRlIG10clNvdXJjZSA9ICcxMzgnO1xuXG4gIGRlY29kZWRQYXJhbXM6IGFueSA9IHt9O1xuICBkYXNoYm9hcmREYXRhOiBhbnkgPSB7fTtcbiAgZmlsdGVyczogYW55ID0gW107XG4gIHNlbEZpbHRlcnM6IGFueSA9IHt9O1xuICBkcm9wZG93blNldHRpbmdzOiBhbnkgPSB7fTtcbiAgdGFibGVEYXRhczogYW55ID0ge307XG4gIHNlcmllc0RhdGE6IGFueSA9IHt9XG4gIGR1bXBEYXRhOiBhbnkgPSBbXTtcbiAgY2FsbGVkU291cmNlRGF0YSA6IGFueSA9IHt9O1xuICB0YWJsZUdyYXBoczogYW55ID0gW107XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZGF0YVNlcnZpY2U6IERhdGFTZXJ2aWNlLFxuICAgIHByaXZhdGUgdG9hc3RTZXJ2aWNlOiBUb2FzdHJTZXJ2aWNlLFxuICAgIHByaXZhdGUgeHNpZ2h0c0JhY2tlbmQ6IFhzaWdodHNCYWNrZW5kU2VydmljZSxcbiAgICBwcml2YXRlIHhzaWdodHM6IFhTaWdodHNDb3JlU2VydmljZVxuICApIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgLy8gdGhpcy5kZWNvZGVVcmwoKTtcbiAgICB0aGlzLmRyb3Bkb3duU2V0dGluZ3MgPSB7XG4gICAgICBzaW5nbGVTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgZW5hYmxlQ2hlY2tBbGw6IGZhbHNlLFxuICAgICAgYWxsb3dTZWFyY2hGaWx0ZXI6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICAvL0NhbGxlZCBiZWZvcmUgYW55IG90aGVyIGxpZmVjeWNsZSBob29rLiBVc2UgaXQgdG8gaW5qZWN0IGRlcGVuZGVuY2llcywgYnV0IGF2b2lkIGFueSBzZXJpb3VzIHdvcmsgaGVyZS5cbiAgICAvL0FkZCAnJHtpbXBsZW1lbnRzIE9uQ2hhbmdlc30nIHRvIHRoZSBjbGFzcy5cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VzWydkYXNoYm9hcmRVcmwnXS5wcmV2aW91c1ZhbHVlICE9XG4gICAgICAgIGNoYW5nZXNbJ2Rhc2hib2FyZFVybCddLmN1cnJlbnRWYWx1ZSB8fFxuICAgICAgY2hhbmdlc1snYWRtaW5JZCddLnByZXZpb3VzVmFsdWUgIT0gY2hhbmdlc1snYWRtaW5JZCddLmN1cnJlbnRWYWx1ZVxuICAgICkge1xuICAgICAgdGhpcy5kZWNvZGVVcmwoKTtcbiAgICB9XG4gIH1cblxuICBkZWNvZGVVcmwoKSB7XG4gICAgdGhpcy5kYXRhU2VydmljZS5nZXREZWNvZGVkVXJsKHRoaXMuZGFzaGJvYXJkVXJsKS50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgY29uc3QgdXJsUGFyYW1zU3RyID0gcmVzLmRhdGFbMF0uc3BsaXQoJz8nKVsxXTtcbiAgICAgIGNvbnN0IHVybFBhcmFtc0FyciA9IHVybFBhcmFtc1N0ci5zcGxpdCgnJicpO1xuICAgICAgdXJsUGFyYW1zQXJyLmZvckVhY2goKHBhcmFtOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5kZWNvZGVkUGFyYW1zW3BhcmFtLnNwbGl0KCc9JylbMF1dID0gcGFyYW0uc3BsaXQoJz0nKVsxXTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5nZXRHcmFwaERhc2hCb2FyZEJ5SWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEdyYXBoRGFzaEJvYXJkQnlJZCgpIHtcbiAgICB0aGlzLmFkbWluSWQgPSB0aGlzLmRlY29kZWRQYXJhbXMuZm9BZG1pbklkO1xuICAgIGxldCBmaWx0ZXIgOiBhbnkgPSB7fVxuICAgIHRoaXMuZmlsdGVycy5mb3JFYWNoKChmOiBhbnkpID0+IHtcbiAgICAgIGlmKGZpbHRlcltmLnNvdXJjZUlkXSl7XG4gICAgICAgIGZpbHRlcltmLnNvdXJjZUlkXSA9IHtcbiAgICAgICAgICAuLi5maWx0ZXJbZi5zb3VyY2VJZF0sXG4gICAgICAgICAgW2YuZmllbGROYW1lXTogZi5zZWxWYWx1ZXMubWFwKCh2YWx1ZTogYW55KSA9PiB2YWx1ZS50ZXh0KVxuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZmlsdGVyW2Yuc291cmNlSWRdID0ge1xuICAgICAgICAgIFtmLmZpZWxkTmFtZV06IGYuc2VsVmFsdWVzLm1hcCgodmFsdWU6IGFueSkgPT4gdmFsdWUudGV4dClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5zZWxGaWx0ZXJzID0gZmlsdGVyO1xuICAgIGxldCBkYXRhID0ge1xuICAgICAgZGFzaGJvYXJkSWQ6IHRoaXMuZGVjb2RlZFBhcmFtcy5kYXNoX2lkLFxuICAgICAgZmlsdGVyczogZmlsdGVyLFxuICAgICAgZmlsZUlkOiB0aGlzLmRlY29kZWRQYXJhbXMuZmlsZUlkXG4gICAgfVxuICAgIHRoaXMuZGF0YVNlcnZpY2VcbiAgICAgIC5nZXRTaGFyZWRCYWNrZW5kRGFzaGJvYXJkKGRhdGEsIHRoaXMuYWRtaW5JZClcbiAgICAgIC50aGVuKGFzeW5jIChyZXM6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmRhc2hib2FyZERhdGEuaWQgPSByZXMuZGF0YVswXS5zaGFyZV9pZDtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gdGhpcy5maWx0ZXJzLmxlbmd0aCA9PSAwID8gcmVzLmRhdGFbMF0/LmZpbHRlcnMubWFwKChmaWx0ZXI6IGFueSkgPT4ge1xuICAgICAgICAgIGZpbHRlcltcInZhbHVlc1wiXSA9IEpTT04ucGFyc2UoZmlsdGVyW1widmFsdWVzXCJdKS5tYXAoKHZhbHVlOiBhbnksIGluZGV4OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgICAgICAgdGV4dDogdmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSBcbiAgICAgICAgICBmaWx0ZXJbXCJzZWxWYWx1ZXNcIl0gPSBmaWx0ZXJbXCJzZWxWYWx1ZXNcIl0gPyBmaWx0ZXJbXCJzZWxWYWx1ZXNcIl0gOiBbXTtcbiAgICAgICAgICByZXR1cm4gZmlsdGVyO1xuICAgICAgICB9KSA/PyBbXSA6IHRoaXMuZmlsdGVycztcbiAgICAgICAgdGhpcy5zZXJpZXNEYXRhID0gcmVzLmRhdGFbMF0/LnNlcmllc0RhdGE7XG4gICAgICAgIHJlcy5kYXRhWzBdLmdyYXBocyA9IHJlcy5kYXRhWzBdLmdyYXBocy5zb3J0KHRoaXMuc2V0R3JhcGhPcmRlcik7XG4gICAgICAgIHRoaXMuZGFzaGJvYXJkRGF0YSA9IHJlcy5kYXRhWzBdO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5kYXNoYm9hcmREYXRhLmdyYXBocykge1xuICAgICAgICAgIGNvbnN0IGdyYXBoID0gZWxlbWVudDtcbiAgICAgICAgICBpZiAoZ3JhcGguZ3JhcGhUeXBlICE9IDIgJiYgZ3JhcGguZ3JhcGhUeXBlICE9IDMpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLnNlcmllc0RhdGFbZ3JhcGguZ3JhcGhfaWRdO1xuICAgICAgICAgICAgbGV0IHRlbXBHcmFwaERhdGEgPSB7XG4gICAgICAgICAgICAgIHJvd3M6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS54QXhpcyxcbiAgICAgICAgICAgICAgY29sdW1uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLnlBeGlzLFxuICAgICAgICAgICAgICBhZ2dyZWdhdGlvbkZ1bmN0aW9uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmFnZ3JlYWdhdGlvbnMsXG4gICAgICAgICAgICAgIGZpbHRlcjogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmZpbHRlcixcbiAgICAgICAgICAgICAgY3VzdG9tVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kZXJpdmVkVmFyaWFibGVzLFxuICAgICAgICAgICAgICBkYXRhRm9ybWF0OiBbXSxcbiAgICAgICAgICAgICAgY29sVG9TaG93OiBudWxsLFxuICAgICAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUubGFzdExldmVsRGF0YSA/PyBbXSxcbiAgICAgICAgICAgICAgY2hhcnRUeXBlOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlLFxuICAgICAgICAgICAgICBkYXRlVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kYXRlVmFyaWFibGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5idWlsZENoYXJ0KGdyYXBoLCByZXMsIHRlbXBHcmFwaERhdGEsIHRoaXMuc2VsRmlsdGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmKGdyYXBoLmdyYXBoVHlwZSA9PSAzKXtcbiAgICAgICAgICAgIHRoaXMudGFibGVHcmFwaHMucHVzaChncmFwaCk7IFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRpbmdDb21wbGV0ZSgpXG4gICAgICB9KTtcbiAgfVxuICBcbiAgYnVpbGRDaGFydCh3aWRnZXREYXRhOiBhbnksIGRhdGE6IGFueSwgdGVtcERhdGE6IGFueSwgZGFzaGJvYXJkRmlsdGVyOiBhbnkpIHtcbiAgICBsZXQgX3NlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAod2lkZ2V0RGF0YS5ncmFwaFR5cGUgPT0gMSkge1xuICAgICAgICBsZXQgZ3JhcGhEYXRhID0ge1xuICAgICAgICAgIGdyYXBoSWQ6ICdncmFwaC0nICsgd2lkZ2V0RGF0YS5ncmFwaF9pZCxcbiAgICAgICAgICBncmFwaFRpdGxlOiB3aWRnZXREYXRhLmdyYXBobmFtZSxcbiAgICAgICAgICByb3dzOiB0ZW1wRGF0YS5yb3dzWzBdLFxuICAgICAgICAgIGNvbHVtbnM6IHRlbXBEYXRhLmNvbHVtbnNbMF0sXG4gICAgICAgICAgZ3JhcGhUeXBlczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlWzBdLFxuICAgICAgICAgIGdyYXBoRGF0YTogZGF0YSxcbiAgICAgICAgICBhZ2dyZWdhdGlvbkZ1bmN0aW9uczogdGVtcERhdGEuYWdncmVnYXRpb25GdW5jdGlvbnNbMF0sXG4gICAgICAgICAgZmlsdGVyOiB0ZW1wRGF0YS5maWx0ZXIsXG4gICAgICAgICAgY29sb3JzOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5jb2xDb2xvdXJzWzBdLFxuICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICBzdGFydERhdGU6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGVuZERhdGU6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmVuZERhdGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRlVmFyaWFibGU6IHRlbXBEYXRhLmRhdGVWYXJpYWJsZSxcbiAgICAgICAgICByYW5nZUZpbHRlcjogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUucmFuZ2VGaWx0ZXIsXG4gICAgICAgICAgY29tcGFyaXNvbjogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY29tcGFyaXNvbiA/PyBbXSxcbiAgICAgICAgICBjdXN0b21WYXJpYWJsZTogdGVtcERhdGEuY3VzdG9tVmFyaWFibGUsXG4gICAgICAgICAgZGF0YUZvcm1hdDogdGVtcERhdGEuZGF0YUZvcm1hdCA/PyBbXSxcbiAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiB0ZW1wRGF0YS5sYXN0TGV2ZWxDb2x1bW5zID8/IFtdLFxuICAgICAgICAgIHNlbEtleXM6IFtdLFxuICAgICAgICAgIGFkbWluSWQ6IHRoaXMuYWRtaW5JZCxcbiAgICAgICAgICBzb3VyY2VJZDogd2lkZ2V0RGF0YS5zb3VyY2VJZCxcbiAgICAgICAgICBkYXNoYm9hcmRGaWx0ZXI6IGRhc2hib2FyZEZpbHRlcixcbiAgICAgICAgICBzaGFyZWlkOiB0aGlzLmRhc2hib2FyZERhdGEuaWRcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgX3NlbGYueHNpZ2h0c0JhY2tlbmQuYnVpbGQoV2lkZ2V0VHlwZS5UUkVORCwgZ3JhcGhEYXRhKTtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9IGVsc2UgaWYgKHdpZGdldERhdGEuZ3JhcGhUeXBlID09IDMpIHtcbiAgICAgICAgbGV0IHRhYmxlRGF0YSA9IHtcbiAgICAgICAgICByb3dzOiB0ZW1wRGF0YS5yb3dzLFxuICAgICAgICAgIGNvbHVtbjogdGVtcERhdGEuY29sdW1ucyxcbiAgICAgICAgICBhZ2dyZWdhdGlvbkZ1bmN0aW9uOiB0ZW1wRGF0YS5hZ2dyZWdhdGlvbkZ1bmN0aW9ucyxcbiAgICAgICAgICBmaWx0ZXI6IHRlbXBEYXRhLmZpbHRlcixcbiAgICAgICAgICBkZXJpdmVkVmFyaWFibGVzOiB0ZW1wRGF0YS5jdXN0b21WYXJpYWJsZSxcbiAgICAgICAgICBkYXRhRm9ybWF0OiB0ZW1wRGF0YS5kYXRhRm9ybWF0ID8/IFtdLFxuICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICBzdGFydERhdGU6IG51bGwsXG4gICAgICAgICAgICBlbmREYXRlOiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIGNhdGVnb3JpZXM6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmNoYXJ0VHlwZSxcbiAgICAgICAgfTtcbiAgICAgICAgX3NlbGYudGFibGVEYXRhc1sndGFibGUtZ3JhcGgtJyArIHdpZGdldERhdGEuZ3JhcGhfaWRdID1cbiAgICAgICAgICBhd2FpdCBfc2VsZi54c2lnaHRzLmJ1aWxkKFdpZGdldFR5cGUuUElWT1RfVEFCTEUsIHRhYmxlRGF0YSk7XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZ3JhcGhkYXRhID0ge1xuICAgICAgICAgIGdyYXBoSWQ6ICdncmFwaC0nICsgd2lkZ2V0RGF0YS5ncmFwaF9pZCxcbiAgICAgICAgICBncmFwaFRpdGxlOiB3aWRnZXREYXRhLmdyYXBobmFtZSxcbiAgICAgICAgICByb3dzOiB0ZW1wRGF0YS5yb3dzLFxuICAgICAgICAgIGFkbWluSWQ6IHRoaXMuYWRtaW5JZCxcbiAgICAgICAgICBjb2x1bW5zOiB0ZW1wRGF0YS5jb2x1bW5zLFxuICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb25zOiB0ZW1wRGF0YS5hZ2dyZWdhdGlvbkZ1bmN0aW9ucyxcbiAgICAgICAgICBmaWx0ZXI6IHRlbXBEYXRhLmZpbHRlcixcbiAgICAgICAgICBjdXN0b21WYXJpYWJsZTogdGVtcERhdGEuY3VzdG9tVmFyaWFibGUsXG4gICAgICAgICAgc2VsS2V5czogW10sXG4gICAgICAgICAgc291cmNlSWQ6IHdpZGdldERhdGEuc291cmNlSWQsXG4gICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGVuZERhdGU6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGFGb3JtYXQ6IHRlbXBEYXRhLmRhdGFGb3JtYXQgPz8gW10sXG4gICAgICAgICAgbGFzdExldmVsQ29sdW1uczogdGVtcERhdGEubGFzdExldmVsQ29sdW1ucyA/PyBbXSxcbiAgICAgICAgICBncmFwaFR5cGVzOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5jaGFydFR5cGUsXG4gICAgICAgICAgZ3JhcGhEYXRhOiBkYXRhLFxuICAgICAgICAgIGNvbG9yczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY29sQ29sb3VycyxcbiAgICAgICAgICBkYXNoYm9hcmRGaWx0ZXI6IGRhc2hib2FyZEZpbHRlcixcbiAgICAgICAgICBzaGFyZWlkOiB0aGlzLmRhc2hib2FyZERhdGEuaWRcbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgbGV0IHJlc3BvbnNlID0gdGhpcy54c2lnaHRzQmFja2VuZC5idWlsZChXaWRnZXRUeXBlLkdSQVBILCBncmFwaGRhdGEpO1xuICAgICAgICB9LCA1MDApXG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbG9hZGluZ0NvbXBsZXRlKCkgeyBcbiAgICB0aGlzLnJlbmRlclRhYmxlKCk7ICAgICBcbiAgICB0aGlzLmRhc2hib2FyZExvYWRlZC5lbWl0KHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyByZW5kZXJUYWJsZSgpe1xuICAgIGlmKHRoaXMudGFibGVHcmFwaHMubGVuZ3RoID4gMCl7XG4gICAgICB0aGlzLnRhYmxlR3JhcGhzLmZvckVhY2goYXN5bmMgKGdyYXBoOiBhbnkpID0+IHtcbiAgICAgICAgICBsZXQgZGF0YSA6IGFueSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVEYXNoYm9hcmQoZ3JhcGgsIGZhbHNlKTtcbiAgICAgICAgICBsZXQgdGVtcEdyYXBoRGF0YSA9IHtcbiAgICAgICAgICAgIHJvd3M6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS54QXhpcyxcbiAgICAgICAgICAgIGNvbHVtbnM6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS55QXhpcyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb25zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuYWdncmVhZ2F0aW9ucyxcbiAgICAgICAgICAgIGZpbHRlcjogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmZpbHRlcixcbiAgICAgICAgICAgIGN1c3RvbVZhcmlhYmxlOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuZGVyaXZlZFZhcmlhYmxlcyxcbiAgICAgICAgICAgIGRhdGFGb3JtYXQ6IFtdLFxuICAgICAgICAgICAgY29sVG9TaG93OiBudWxsLFxuICAgICAgICAgICAgbGFzdExldmVsQ29sdW1uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmxhc3RMZXZlbERhdGEgPz8gW10sXG4gICAgICAgICAgICBjaGFydFR5cGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5jaGFydFR5cGUsXG4gICAgICAgICAgICBkYXRlVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kYXRlVmFyaWFibGUsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsZXQgZHVtcERhdGEgPSBkYXRhO1xuICAgICAgICAgIGlmIChncmFwaC5zb3VyY2VpZC50b1N0cmluZygpID09IHRoaXMubXRyU291cmNlKSB7XG4gICAgICAgICAgICB0ZW1wR3JhcGhEYXRhID0gdGhpcy5kYXRhU2VydmljZS5rZXlDb252ZXJ0ZXIoXG4gICAgICAgICAgICAgIHRlbXBHcmFwaERhdGEsXG4gICAgICAgICAgICAgIGRhdGFbMF0uY29sdW1ucyxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGR1bXBEYXRhID0gZGF0YVswXS5kYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmJ1aWxkQ2hhcnQoZ3JhcGgsIGR1bXBEYXRhLCB0ZW1wR3JhcGhEYXRhLCBudWxsKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgXG4gIGdlbmVyYXRlRGFzaGJvYXJkKGdyYXBoOiBhbnksIHJlQ2FsbDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5jYWxsZWRTb3VyY2VEYXRhLmhhc093blByb3BlcnR5KGdyYXBoLnNvdXJjZWlkLnRvU3RyaW5nKCkpICYmXG4gICAgICAgICFyZUNhbGxcbiAgICAgICkge1xuICAgICAgICByZXNvbHZlKHRoaXMuY2FsbGVkU291cmNlRGF0YVtncmFwaC5zb3VyY2VpZC50b1N0cmluZygpXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBcbiAgICAgICAgbGV0IGQgPSB7XG4gICAgICAgICAgZ3JhcGhJZDogZ3JhcGguZ3JhcGhfaWQsXG4gICAgICAgICAgZGF0YUZpbHRlcjogdGhpcy5zZWxGaWx0ZXJzLFxuICAgICAgICAgIGRpcmVjdGlvbjogMCxcbiAgICAgICAgICBhZG1pbklkOiB0aGlzLmFkbWluSWQsXG4gICAgICAgICAgc2hhcmVpZDogdGhpcy5kYXNoYm9hcmREYXRhLmlkLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogbnVsbCxcbiAgICAgICAgICBlbmREYXRlOiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhU2VydmljZS5nZXRHcmFwaERhdGFCeUlkKGQpLnRoZW4oKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICBTd2FsLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICBTd2FsLmNsb3NlKCk7XG4gICAgICAgICAgICBsZXQga2V5cyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgZHVtcERhdGEgPSByZXMuZGF0YTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGVkU291cmNlRGF0YVtncmFwaC5zb3VyY2VpZC50b1N0cmluZygpXSA9IGR1bXBEYXRhO1xuICAgICAgICAgICAgcmVzb2x2ZShkdW1wRGF0YSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgU3dhbC5oaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgU3dhbC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy50b2FzdFNlcnZpY2UuZXJyb3IoJ1VuYWJsZSB0byBGZXRjaCBEYXRhJyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXRHcmFwaE9yZGVyKGE6IGFueSwgYjogYW55KSB7XG4gICAgaWYgKGEub3JkZXIgPCBiLm9yZGVyKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhLm9yZGVyID4gYi5vcmRlcikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG59XG4iLCI8ZGl2ICpuZ0lmPVwiZGFzaGJvYXJkRGF0YSAhPSB7fVwiPlxuICAgIDxkaXYgY2xhc3M9XCJkYXNoX2dyYXBoX3NlY1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaF9ncmFwaCBkYXNoYm9hcmQtd3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJncmFwaF9uYW1lXCIgc3R5bGU9XCJoZWlnaHQ6IDQ0cHg7XCI+e3tkYXNoYm9hcmREYXRhLmRhc2hib2FyZF9uYW1lfX0gPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1jb250YWluZXJcIiAqbmdJZj1cImZpbHRlcnMubGVuZ3RoXCI+XG4gICAgICAgICAgICAgICAgPGgzPkZpbHRlcnM6PC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTNcIiAqbmdGb3I9XCJsZXQgZmlsdGVyIG9mIGZpbHRlcnM7bGV0IGkgPSBpbmRleFwiPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1tdWx0aXNlbGVjdC1kcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwbGFjZWhvbGRlcl09XCInU2VsZWN0ICcgKyBmaWx0ZXIuZmllbGROYW1lICsgJy4uLidcIiBbKG5nTW9kZWwpXT1cImZpbHRlci5zZWxWYWx1ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzZXR0aW5nc109XCJkcm9wZG93blNldHRpbmdzXCIgW2RhdGFdPVwiZmlsdGVyLnZhbHVlc1wiPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctbXVsdGlzZWxlY3QtZHJvcGRvd24+IFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiAoY2xpY2spPVwiZ2V0R3JhcGhEYXNoQm9hcmRCeUlkKClcIj5BcHBseSBGaWx0ZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBncmFwaF9kZXNpZ25cIiBpZD1cImRhc2hib2FyZFNjcmVlblwiPiBcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBncmFwaCBvZiBkYXNoYm9hcmREYXRhPy5ncmFwaHM7bGV0IGk9aW5kZXg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz1cInBhZ2UtYnJlYWtcIiAqbmdJZj1cImkgJSA1ID09IDAgJiYgaSAhPSAwXCI+PC9kaXY+IC0tPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImdyYXBoLmdyYXBoVHlwZSAhPSAzICYmIGdyYXBoLmdyYXBoVHlwZSAhPSAyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkLWdyYXBoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J2NvbC1sZy0xMic6IGdyYXBoLmdyYXBoX2luZGV4ID09IDEsJ2NvbC1sZy02JzogZ3JhcGguZ3JhcGhfaW5kZXggPT0gMiwnY29sLWxnLTQnOiBncmFwaC5ncmFwaF9pbmRleCA9PSAzLCdjb2wtbGctMyc6IGdyYXBoLmdyYXBoX2luZGV4ID09IDR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIm1pbi1oZWlnaHQ6IDM3MHB4OyBwYWRkaW5nOiAwcHg7XCI+IDwhLS0gbG9hZGVyIHN0YXJ0IC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyAqbmdJZj1cImdyYXBoLmdyYXBoX3N0cnVjdHVyZS54QXhpc1swXSAhPSAnKioqTEFCRUwqKionXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGJhY2tncm91bmQtY29sb3I6ICNlZWU7IHBhZGRpbmc6IDJweDtcIj57e2dyYXBoLmdyYXBobmFtZX19PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFtpZF09XCInZ3JhcGgtJysgZ3JhcGguZ3JhcGhfaWRcIiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzogMTBweDsgcGFkZGluZy10b3A6IDQ1cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZHMtZWxsaXBzaXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiA8IS0tIGxvYWRlciBlbmQgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJncmFwaC5ncmFwaFR5cGU9PTJcIiBjbGFzcz1cImRhc2hib2FyZC1ncmFwaFwiIFtpZF09XCIndGFibGUtZ3JhcGgtJysgZ3JhcGguZ3JhcGhfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydjb2wtbGctMTInOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGguZ3JhcGhfaW5kZXg9PTEsJ2NvbC1sZy02JzogZ3JhcGguZ3JhcGhfaW5kZXg9PTIsJ2NvbC1sZy00JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoLmdyYXBoX2luZGV4PT0zLCdjb2wtbGctMyc6IGdyYXBoLmdyYXBoX2luZGV4PT00fVwiIHN0eWxlPVwiZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGJvcmRlci1ib3R0b206IDBweDsgYmFja2dyb3VuZC1jb2xvcjphbnRpcXVld2hpdGU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGxvYWRlciBzdGFydCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7Z3JhcGguZ3JhcGhuYW1lfX08L2gyPiA8IS0tIGxvYWRlciBlbmQgLS0+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZ3JhcGguZ3JhcGhUeXBlPT0zXCIgY2xhc3M9XCJkYXNoYm9hcmQtZ3JhcGhcIiBbaWRdPVwiJ3RhYmxlLWdyYXBoLScrXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaC5ncmFwaF9pZFwiIFtuZ0NsYXNzXT1cInsnY29sLWxnLTEyJzogZ3JhcGguZ3JhcGhfaW5kZXg9PTEsJ2NvbC1sZy02JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoLmdyYXBoX2luZGV4PT0yLCdjb2wtbGctNCc6IGdyYXBoLmdyYXBoX2luZGV4PT0zLCdjb2wtbGctMyc6IGdyYXBoLmdyYXBoX2luZGV4PT00fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIm1pbi1oZWlnaHQ6IDMwMHB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBwYWRkaW5nLWJvdHRvbTogMiU7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGxvYWRlciBzdGFydCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj57e2dyYXBoLmdyYXBobmFtZX19PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0YWJsZURhdGFzLmhhc093blByb3BlcnR5KCd0YWJsZS1ncmFwaC0nICsgZ3JhcGguZ3JhcGhfaWQpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4LXBpdm90LWdyaWQgW2FsbG93U29ydGluZ0J5U3VtbWFyeV09XCJ0cnVlXCIgW2FsbG93U29ydGluZ109XCJ0cnVlXCIgW2FsbG93RmlsdGVyaW5nXT1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd0JvcmRlcnNdPVwidHJ1ZVwiIFtkYXRhU291cmNlXT1cInRhYmxlRGF0YXNbJ3RhYmxlLWdyYXBoLScgKyBncmFwaC5ncmFwaF9pZF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4by1maWVsZC1jaG9vc2VyIFtlbmFibGVkXT1cImZhbHNlXCI+PC9keG8tZmllbGQtY2hvb3Nlcj4gPC9keC1waXZvdC1ncmlkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+IDxuZy1jb250YWluZXIgKm5nSWY9XCJ0YWJsZURhdGFzWyd0YWJsZS1ncmFwaC0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFwaC5ncmFwaF9pZF09PXVuZGVmaW5lZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZHMtZWxsaXBzaXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gbG9hZGVyIGVuZCAtLT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+IDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PiJdfQ==