import { Component, EventEmitter, Input, Output } from '@angular/core';
import { WidgetType } from '../../x-sights-core.service';
import Swal from 'sweetalert2';
import * as i0 from "@angular/core";
import * as i1 from "../../services/xsights-backend.service";
import * as i2 from "../../x-sights-core.service";
import * as i3 from "ngx-toastr";
import * as i4 from "@angular/common";
import * as i5 from "../../services/data.service";
import * as i6 from "ng-multiselect-dropdown";
import * as i7 from "devextreme-angular";
import * as i8 from "devextreme-angular/ui/nested";
import * as i9 from "@angular/forms";
export class XSightsBackendDashboardComponent {
    constructor(xsightsBackend, xsights, toastService, datePipe, dataService) {
        this.xsightsBackend = xsightsBackend;
        this.xsights = xsights;
        this.toastService = toastService;
        this.datePipe = datePipe;
        this.dataService = dataService;
        this.systemApis = ['198', '138', '279'];
        this.mtrSource = '138';
        this.dashboardId = 0;
        this.adminId = '0';
        this.showHeader = true;
        this.showFilters = true;
        this.startDate = null;
        this.endDate = null;
        this.toggleDashboard = false;
        this.isDashboardLoaded = new EventEmitter();
        this.showLoading = new EventEmitter();
        this.dashboardData = null;
        this.fromDate = null;
        this.toDate = null;
        this.showHeaderInputs = false;
        this.filters = [];
        this.selFilters = {};
        this.liveRefreshMin = 5;
        this.seriesData = {};
        this.pivotTables = {};
        this.dashPublicUrl = '';
        this.dropdownSettings = {};
        this.tableGraphs = [];
        this.calledSourceData = {};
        if (this.startDate == null) {
            this.fromDate = this.datePipe.transform(new Date(new Date().setDate(new Date().getDate() - 3)), 'yyyy-MM-dd');
        }
        else {
            this.fromDate = this.startDate;
        }
        if (this.endDate == null) {
            this.toDate = this.datePipe.transform(new Date(), 'yyyy-MM-dd');
        }
        else {
            this.toDate = this.endDate;
        }
    }
    ngOnInit() {
        this.dropdownSettings = {
            singleSelection: false,
            enableCheckAll: false,
            allowSearchFilter: true,
        };
        // this.renderPage();
    }
    renderPage() {
        this.showLoading.emit(true);
        this.getGraphDashBoardById();
    }
    ngOnDestroy() {
        //Called once, before the instance is destroyed.
        //Add 'implements OnDestroy' to the class.
        clearInterval(this.dashboardInterval);
    }
    ngOnChanges(changes) {
        //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.
        //Add '${implements OnChanges}' to the class.
        if (changes['dashboardId']?.currentValue !=
            changes['dashboardId']?.previousValue ||
            changes['adminId']?.currentValue != changes['adminId']?.previousValue ||
            changes['showHeader']?.currentValue !=
                changes['showHeader']?.previousValue ||
            changes['showFilters']?.currentValue !=
                changes['showFilters']?.previousValue ||
            changes['toggleDashboard']?.currentValue !=
                changes['toggleDashboard']?.previousValue) {
            this.renderPage();
        }
    }
    getGraphDashBoardById() {
        let filter = {};
        this.filters.forEach((f) => {
            if (filter[f.sourceId]) {
                filter[f.sourceId] = {
                    ...filter[f.sourceId],
                    [f.fieldName]: f.selValues.map((value) => value.text)
                };
            }
            else {
                filter[f.sourceId] = {
                    [f.fieldName]: f.selValues.map((value) => value.text)
                };
            }
        });
        this.selFilters = filter;
        let data = {
            dashboardId: this.dashboardId,
            filters: filter,
            startDate: this.startDate == null ? null : this.datePipe.transform(new Date(this.startDate), "yyyy-MM-dd"),
            endDate: this.endDate == null ? null : this.datePipe.transform(new Date(this.endDate), "yyyy-MM-dd")
        };
        if (this.isDateDifferenceGreaterThan15Days(this.startDate, this.endDate)) {
            Swal.fire({
                title: "Error",
                text: "Date range greater than 30 days is not supported",
                icon: "error",
                showCloseButton: true
            });
            this.showLoading.emit(false);
            return;
        }
        this.dataService
            .getGraphDashBoardById(data, this.adminId)
            .then(async (res) => {
            this.showLoading.emit(false);
            this.filters = this.filters.length == 0 ? res.data[0]?.filters.map((filter) => {
                filter["values"] = JSON.parse(filter["values"]).map((value, index) => {
                    return {
                        id: index,
                        text: value
                    };
                });
                filter["selValues"] = filter["selValues"] ? filter["selValues"] : [];
                return filter;
            }) ?? [] : this.filters;
            this.seriesData = res.data[0]?.seriesData;
            res.data[0].graphs = res.data[0].graphs.sort(this.setGraphOrder);
            this.dashboardData = res.data[0];
            setTimeout(() => {
                for (const element of this.dashboardData.graphs) {
                    const graph = element;
                    if (this.systemApis.includes(graph.sourceid.toString())) {
                        this.showHeaderInputs = true;
                    }
                    if (graph.graphType != 2 && graph.graphType != 3) {
                        let res = this.seriesData[graph.graph_id];
                        let tempGraphData = {
                            rows: graph.graph_structure.xAxis,
                            columns: graph.graph_structure.yAxis,
                            aggregationFunctions: graph.graph_structure.aggreagations,
                            filter: graph.graph_structure.filter,
                            customVariable: graph.graph_structure.derivedVariables,
                            dataFormat: [],
                            colToShow: null,
                            lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                            chartType: graph.graph_structure.chartType,
                            dateVariable: graph.graph_structure.dateVariable,
                        };
                        this.buildChart(graph, res, tempGraphData, this.selFilters);
                    }
                    else if (graph.graphType == 3) {
                        this.tableGraphs.push(graph);
                        console.log('this.tableGraphs: ', this.tableGraphs);
                    }
                }
                this.loadingComplete();
            }, 500);
        }).catch(err => {
            console.log(err);
        });
    }
    isDateDifferenceGreaterThan15Days(date1, date2) {
        // Create Date objects
        const startDate = new Date(date1);
        const endDate = new Date(date2);
        // Calculate the difference in milliseconds
        const differenceInMillis = Math.abs(startDate - endDate);
        // Calculate the difference in days
        const differenceInDays = differenceInMillis / (1000 * 60 * 60 * 24);
        // Check if the difference is greater than 15 days
        return differenceInDays > 30;
    }
    async renderTable() {
        if (this.tableGraphs.length > 0) {
            this.tableGraphs.forEach(async (graph) => {
                let data = await this.generateDashboard(graph, false);
                console.log('data: ', data);
                let tempGraphData = {
                    rows: graph.graph_structure.xAxis,
                    columns: graph.graph_structure.yAxis,
                    aggregationFunctions: graph.graph_structure.aggreagations,
                    filter: graph.graph_structure.filter,
                    customVariable: graph.graph_structure.derivedVariables,
                    dataFormat: [],
                    colToShow: null,
                    lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                    chartType: graph.graph_structure.chartType,
                    dateVariable: graph.graph_structure.dateVariable,
                };
                if (graph.sourceid.toString() == this.mtrSource) {
                    tempGraphData = this.dataService.keyConverter(tempGraphData, data[0].columns, 1);
                }
                this.buildChart(graph, data[0].data, tempGraphData, null);
            });
        }
    }
    generateDashboard(graph, reCall = false) {
        return new Promise((resolve, reject) => {
            if (this.calledSourceData.hasOwnProperty(graph.sourceid.toString()) &&
                !reCall) {
                resolve(this.calledSourceData[graph.sourceid.toString()]);
            }
            else {
                let d = {
                    graphId: graph.graph_id,
                    dataFilter: this.selFilters,
                    direction: 0,
                    adminId: this.adminId,
                    shareid: null,
                    startTime: this.startDate ?? this.fromDate,
                    endTime: this.endDate ?? this.toDate
                };
                this.dataService.getGraphDataById(d).then((res) => {
                    Swal.hideLoading();
                    Swal.close();
                    let dumpData = res.data;
                    // this.uniqueSourceData.push(graph);
                    if (graph.dataType == 'remote-json' &&
                        !this.systemApis.includes(graph.sourceid.toString())) {
                        res.data = this.dataService.parseDataFormat(res.data, graph.dataFormat);
                    }
                    this.calledSourceData[graph.sourceid.toString()] = dumpData;
                    resolve(dumpData);
                })
                    .catch((err) => {
                    Swal.hideLoading();
                    Swal.close();
                    this.toastService.error('Unable to Fetch Data');
                });
            }
        });
    }
    buildChart(widgetData, data, tempData, dashboardFilter) {
        let _self = this;
        return new Promise(async (resolve, reject) => {
            let range = {};
            if (this.systemApis.includes(widgetData.sourceid.toString())) {
                range = {
                    startDate: this.startDate ?? this.fromDate,
                    endDate: this.endDate ?? this.toDate,
                };
            }
            if (widgetData.graphType == 1) {
                if (!this.systemApis.includes(widgetData.sourceid.toString())) {
                    range = {
                        startDate: this.datePipe.transform(widgetData.graph_structure.startDate, 'yyyy-MM-dd'),
                        endDate: this.datePipe.transform(widgetData.graph_structure.endDate, 'yyyy-MM-dd'),
                    };
                }
                let graphData = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows[0],
                    columns: tempData.columns[0],
                    graphTypes: widgetData.graph_structure.chartType[0],
                    graphData: data,
                    aggregationFunctions: tempData.aggregationFunctions[0],
                    filter: tempData.filter,
                    colors: widgetData.graph_structure.colColours[0],
                    range: range,
                    dateVariable: tempData.dateVariable,
                    rangeFilter: widgetData.graph_structure.rangeFilter,
                    comparison: widgetData.graph_structure.comparison ?? [],
                    customVariable: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                    selKeys: [],
                    adminId: this.adminId,
                    sourceId: widgetData.sourceId,
                    dashboardFilter: dashboardFilter
                };
                let response = await _self.xsightsBackend.build(WidgetType.TREND, graphData);
                resolve(response);
            }
            else if (widgetData.graphType == 3) {
                let tableData = {
                    rows: tempData.rows,
                    column: tempData.columns,
                    aggregationFunction: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    derivedVariables: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    data: data,
                    range: range,
                    categories: widgetData.graph_structure.chartType
                };
                _self.pivotTables['table-' + widgetData.graph_id] =
                    await _self.xsights.build(WidgetType.PIVOT_TABLE, tableData);
                resolve(true);
            }
            else {
                let graphdata = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows,
                    adminId: this.adminId,
                    columns: tempData.columns,
                    aggregationFunctions: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    customVariable: tempData.customVariable,
                    selKeys: [],
                    range: range,
                    sourceId: widgetData.sourceId,
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                    graphTypes: widgetData.graph_structure.chartType,
                    graphData: data,
                    colors: widgetData.graph_structure.colColours,
                    dashboardFilter: dashboardFilter
                };
                setTimeout(() => {
                    let response = this.xsightsBackend.build(WidgetType.GRAPH, graphdata);
                }, 500);
                resolve(true);
            }
        });
    }
    loadingComplete() {
        this.renderTable();
        this.isDashboardLoaded.emit({
            isLoaded: true,
            hasSystemApi: this.showHeaderInputs
        });
    }
    setGraphOrder(a, b) {
        if (a.order < b.order) {
            return -1;
        }
        if (a.order > b.order) {
            return 1;
        }
        return 0;
    }
}
XSightsBackendDashboardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsBackendDashboardComponent, deps: [{ token: i1.XsightsBackendService }, { token: i2.XSightsCoreService }, { token: i3.ToastrService }, { token: i4.DatePipe }, { token: i5.DataService }], target: i0.ɵɵFactoryTarget.Component });
XSightsBackendDashboardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.0.3", type: XSightsBackendDashboardComponent, selector: "lib-x-sights-backend-dashboard", inputs: { dashboardId: "dashboardId", adminId: "adminId", showHeader: "showHeader", showFilters: "showFilters", startDate: "startDate", endDate: "endDate", toggleDashboard: "toggleDashboard" }, outputs: { isDashboardLoaded: "isDashboardLoaded", showLoading: "showLoading" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"row\" *ngIf=\"dashboardData != null\">\n    <div class=\"col-md-12\">\n        <div class=\"dash_graph_sec\">\n            <div class=\"dash_graph\">\n                <div style=\"display: flex; background-color:#000;\" *ngIf=\"showHeader\">\n                    <h3 class=\"graph_name\" style=\"height: 44px;flex:auto;text-transform:capitalize;\">\n                        {{dashboardData.dashboard_name}} &nbsp; <span class=\"badge badge-warning\"\n                            *ngIf=\"dashboardData.dashboard_type == 1\">LIVE</span> </h3>\n                    <div class=\"row date-container\" *ngIf=\"showHeaderInputs\">\n                        <div class=\"col-lg-6\"> <label for=\"startDate\">From &nbsp;&nbsp;</label> <input type=\"date\"\n                                [(ngModel)]=\"fromDate\" id=\"startDate\" class=\"form-control\"> </div>\n                        <div class=\"col-lg-6\"> <label for=\"endDate\">To &nbsp;&nbsp;</label> <input type=\"date\"\n                                [(ngModel)]=\"toDate\" id=\"endDate\" class=\"form-control\">\n                        </div>\n                        <button class=\"btn btn-primary\" (click)=\"renderPage()\">Search</button>\n                    </div>\n                </div>\n                <div class=\"filter-container\" *ngIf=\"filters.length\">\n                    <h3>Filters:</h3>\n                    <div class=\"col-lg-12 row\">\n                        <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i = index\"> \n                            <ng-multiselect-dropdown\n                                [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\"\n                                [settings]=\"dropdownSettings\" [data]=\"filter.values\"> \n                            </ng-multiselect-dropdown> \n                        </div>\n                    </div>\n                    <div class=\"col-lg-12\">\n                        <button class=\"btn btn-primary\" (click)=\"getGraphDashBoardById()\">Apply Filter</button>\n                    </div>\n                </div>\n                <div class=\"row graph_design\" id=\"dashboardScreen\" #dashboardScreen> <ng-container\n                        *ngFor=\"let graph of dashboardData.graphs;\">\n                        \n                        <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                            <div class=\"dashboard-graph\"\n                                [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                                style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                                <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                                <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                    <div class=\"lds-ellipsis\">\n                                        <div></div>\n                                        <div></div>\n                                        <div></div>\n                                        <div></div>\n                                    </div> <!-- loader end -->\n                                </div>\n                            </div>\n                        </ng-container>\n                        <div *ngIf=\"graph.graphType == 2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"display: flex; flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                            <!-- loader start -->\n                            <h2 style=\"text-align: center; margin-bottom: 0px;\">{{graph.graphname}}</h2>\n                            <!-- loader end -->\n                        </div>\n                        <div *ngIf=\"graph.graphType == 3\" class=\"dashboard-graph\" [id]=\"'table-'+ graph.graph_id\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                            <!-- loader start -->\n                            <h3 style=\"text-align: center;\">{{graph.graphname}}</h3> <ng-container\n                                *ngIf=\"pivotTables.hasOwnProperty('table-' + graph.graph_id)\"> <dx-pivot-grid\n                                    [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                    [showBorders]=\"true\" [dataSource]=\"pivotTables['table-' + graph.graph_id]\">\n                                    <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                            </ng-container> <ng-container *ngIf=\"pivotTables['table-' + graph.graph_id] == undefined\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div>\n                            </ng-container> <!-- loader end -->\n                        </div>\n                    </ng-container> </div>\n            </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec{overflow:auto}.dash_graph_sec .dash_graph{background-color:#fff;margin:15px}.dash_graph_sec .dash_graph .graph_name{text-align:center;align-self:flex-end;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:3px solid #dadada;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.graph-source{display:flex;justify-content:space-between;align-items:center}.graph-source h3{margin-bottom:0}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.date-container{justify-content:space-between;align-items:center;color:#fff}.date-container .col-lg-6{display:flex;align-items:center}.date-container .col-lg-6 label{width:70px}\n"], components: [{ type: i6.MultiSelectComponent, selector: "ng-multiselect-dropdown", inputs: ["disabled", "placeholder", "settings", "data"], outputs: ["onFilterChange", "onDropDownClose", "onSelect", "onDeSelect", "onSelectAll", "onDeSelectAll"] }, { type: i7.DxPivotGridComponent, selector: "dx-pivot-grid", inputs: ["allowExpandAll", "allowFiltering", "allowSorting", "allowSortingBySummary", "dataFieldArea", "dataSource", "disabled", "elementAttr", "encodeHtml", "export", "fieldChooser", "fieldPanel", "headerFilter", "height", "hideEmptySummaryCells", "hint", "loadPanel", "rowHeaderLayout", "rtlEnabled", "scrolling", "showBorders", "showColumnGrandTotals", "showColumnTotals", "showRowGrandTotals", "showRowTotals", "showTotalsPrior", "stateStoring", "tabIndex", "texts", "visible", "width", "wordWrapEnabled"], outputs: ["onCellClick", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDisposing", "onExporting", "onInitialized", "onOptionChanged", "allowExpandAllChange", "allowFilteringChange", "allowSortingChange", "allowSortingBySummaryChange", "dataFieldAreaChange", "dataSourceChange", "disabledChange", "elementAttrChange", "encodeHtmlChange", "exportChange", "fieldChooserChange", "fieldPanelChange", "headerFilterChange", "heightChange", "hideEmptySummaryCellsChange", "hintChange", "loadPanelChange", "rowHeaderLayoutChange", "rtlEnabledChange", "scrollingChange", "showBordersChange", "showColumnGrandTotalsChange", "showColumnTotalsChange", "showRowGrandTotalsChange", "showRowTotalsChange", "showTotalsPriorChange", "stateStoringChange", "tabIndexChange", "textsChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { type: i8.DxoFieldChooserComponent, selector: "dxo-field-chooser", inputs: ["allowSearch", "applyChangesMode", "enabled", "height", "layout", "searchTimeout", "texts", "title", "width"] }], directives: [{ type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i9.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i9.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i9.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i4.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i4.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsBackendDashboardComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-x-sights-backend-dashboard', template: "<div class=\"row\" *ngIf=\"dashboardData != null\">\n    <div class=\"col-md-12\">\n        <div class=\"dash_graph_sec\">\n            <div class=\"dash_graph\">\n                <div style=\"display: flex; background-color:#000;\" *ngIf=\"showHeader\">\n                    <h3 class=\"graph_name\" style=\"height: 44px;flex:auto;text-transform:capitalize;\">\n                        {{dashboardData.dashboard_name}} &nbsp; <span class=\"badge badge-warning\"\n                            *ngIf=\"dashboardData.dashboard_type == 1\">LIVE</span> </h3>\n                    <div class=\"row date-container\" *ngIf=\"showHeaderInputs\">\n                        <div class=\"col-lg-6\"> <label for=\"startDate\">From &nbsp;&nbsp;</label> <input type=\"date\"\n                                [(ngModel)]=\"fromDate\" id=\"startDate\" class=\"form-control\"> </div>\n                        <div class=\"col-lg-6\"> <label for=\"endDate\">To &nbsp;&nbsp;</label> <input type=\"date\"\n                                [(ngModel)]=\"toDate\" id=\"endDate\" class=\"form-control\">\n                        </div>\n                        <button class=\"btn btn-primary\" (click)=\"renderPage()\">Search</button>\n                    </div>\n                </div>\n                <div class=\"filter-container\" *ngIf=\"filters.length\">\n                    <h3>Filters:</h3>\n                    <div class=\"col-lg-12 row\">\n                        <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i = index\"> \n                            <ng-multiselect-dropdown\n                                [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\"\n                                [settings]=\"dropdownSettings\" [data]=\"filter.values\"> \n                            </ng-multiselect-dropdown> \n                        </div>\n                    </div>\n                    <div class=\"col-lg-12\">\n                        <button class=\"btn btn-primary\" (click)=\"getGraphDashBoardById()\">Apply Filter</button>\n                    </div>\n                </div>\n                <div class=\"row graph_design\" id=\"dashboardScreen\" #dashboardScreen> <ng-container\n                        *ngFor=\"let graph of dashboardData.graphs;\">\n                        \n                        <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                            <div class=\"dashboard-graph\"\n                                [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                                style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                                <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                                <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                    <div class=\"lds-ellipsis\">\n                                        <div></div>\n                                        <div></div>\n                                        <div></div>\n                                        <div></div>\n                                    </div> <!-- loader end -->\n                                </div>\n                            </div>\n                        </ng-container>\n                        <div *ngIf=\"graph.graphType == 2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"display: flex; flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                            <!-- loader start -->\n                            <h2 style=\"text-align: center; margin-bottom: 0px;\">{{graph.graphname}}</h2>\n                            <!-- loader end -->\n                        </div>\n                        <div *ngIf=\"graph.graphType == 3\" class=\"dashboard-graph\" [id]=\"'table-'+ graph.graph_id\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                            <!-- loader start -->\n                            <h3 style=\"text-align: center;\">{{graph.graphname}}</h3> <ng-container\n                                *ngIf=\"pivotTables.hasOwnProperty('table-' + graph.graph_id)\"> <dx-pivot-grid\n                                    [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                    [showBorders]=\"true\" [dataSource]=\"pivotTables['table-' + graph.graph_id]\">\n                                    <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                            </ng-container> <ng-container *ngIf=\"pivotTables['table-' + graph.graph_id] == undefined\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div>\n                            </ng-container> <!-- loader end -->\n                        </div>\n                    </ng-container> </div>\n            </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec{overflow:auto}.dash_graph_sec .dash_graph{background-color:#fff;margin:15px}.dash_graph_sec .dash_graph .graph_name{text-align:center;align-self:flex-end;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:3px solid #dadada;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.graph-source{display:flex;justify-content:space-between;align-items:center}.graph-source h3{margin-bottom:0}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.date-container{justify-content:space-between;align-items:center;color:#fff}.date-container .col-lg-6{display:flex;align-items:center}.date-container .col-lg-6 label{width:70px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.XsightsBackendService }, { type: i2.XSightsCoreService }, { type: i3.ToastrService }, { type: i4.DatePipe }, { type: i5.DataService }]; }, propDecorators: { dashboardId: [{
                type: Input
            }], adminId: [{
                type: Input
            }], showHeader: [{
                type: Input
            }], showFilters: [{
                type: Input
            }], startDate: [{
                type: Input
            }], endDate: [{
                type: Input
            }], toggleDashboard: [{
                type: Input
            }], isDashboardLoaded: [{
                type: Output
            }], showLoading: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieC1zaWdodHMtYmFja2VuZC1kYXNoYm9hcmQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMveC1zaWdodHMtY29yZS9zcmMvbGliL2NvbXBvbmVudHMveC1zaWdodHMtYmFja2VuZC1kYXNoYm9hcmQveC1zaWdodHMtYmFja2VuZC1kYXNoYm9hcmQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMveC1zaWdodHMtY29yZS9zcmMvbGliL2NvbXBvbmVudHMveC1zaWdodHMtYmFja2VuZC1kYXNoYm9hcmQveC1zaWdodHMtYmFja2VuZC1kYXNoYm9hcmQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBaUIsTUFBTSxlQUFlLENBQUM7QUFJOUYsT0FBTyxFQUFFLFVBQVUsRUFBc0IsTUFBTSw2QkFBNkIsQ0FBQztBQUM3RSxPQUFPLElBQUksTUFBTSxhQUFhLENBQUM7Ozs7Ozs7Ozs7O0FBUy9CLE1BQU0sT0FBTyxnQ0FBZ0M7SUErQjNDLFlBQ1UsY0FBcUMsRUFDckMsT0FBMkIsRUFDM0IsWUFBMkIsRUFDM0IsUUFBa0IsRUFDbEIsV0FBd0I7UUFKeEIsbUJBQWMsR0FBZCxjQUFjLENBQXVCO1FBQ3JDLFlBQU8sR0FBUCxPQUFPLENBQW9CO1FBQzNCLGlCQUFZLEdBQVosWUFBWSxDQUFlO1FBQzNCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFsQzFCLGVBQVUsR0FBRyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkMsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUNqQixnQkFBVyxHQUFXLENBQUMsQ0FBQztRQUN4QixZQUFPLEdBQVEsR0FBRyxDQUFDO1FBQ25CLGVBQVUs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aXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFNpbXBsZUNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgVG9hc3RyU2VydmljZSB9IGZyb20gJ25neC10b2FzdHInO1xuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgV2lkZ2V0VHlwZSwgWFNpZ2h0c0NvcmVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4veC1zaWdodHMtY29yZS5zZXJ2aWNlJztcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJztcbmltcG9ydCB7IFhzaWdodHNCYWNrZW5kU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3hzaWdodHMtYmFja2VuZC5zZXJ2aWNlJztcblxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWIteC1zaWdodHMtYmFja2VuZC1kYXNoYm9hcmQnLFxuICB0ZW1wbGF0ZVVybDogJy4veC1zaWdodHMtYmFja2VuZC1kYXNoYm9hcmQuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi94LXNpZ2h0cy1iYWNrZW5kLWRhc2hib2FyZC5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgWFNpZ2h0c0JhY2tlbmREYXNoYm9hcmRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIHByaXZhdGUgc3lzdGVtQXBpcyA9IFsnMTk4JywgJzEzOCcsICcyNzknXTtcbiAgcHJpdmF0ZSBtdHJTb3VyY2UgPSAnMTM4JztcbiAgQElucHV0KCkgZGFzaGJvYXJkSWQ6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgpIGFkbWluSWQ6IGFueSA9ICcwJztcbiAgQElucHV0KCkgc2hvd0hlYWRlcjogYm9vbGVhbiA9IHRydWU7XG4gIEBJbnB1dCgpIHNob3dGaWx0ZXJzOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgc3RhcnREYXRlOiBhbnkgPSBudWxsO1xuICBASW5wdXQoKSBlbmREYXRlOiBhbnkgPSBudWxsO1xuICBASW5wdXQoKSB0b2dnbGVEYXNoYm9hcmQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBAT3V0cHV0KCkgaXNEYXNoYm9hcmRMb2FkZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgc2hvd0xvYWRpbmc6IEV2ZW50RW1pdHRlcjxCb29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBkYXNoYm9hcmREYXRhOiBhbnkgPSBudWxsO1xuICBmcm9tRGF0ZTogYW55ID0gbnVsbDtcbiAgdG9EYXRlOiBhbnkgPSBudWxsO1xuICBzaG93SGVhZGVySW5wdXRzOiBhbnkgPSBmYWxzZTtcbiAgZmlsdGVyczogYW55ID0gW107XG4gIHNlbEZpbHRlcnM6IGFueSA9IHt9O1xuXG4gIGxpdmVSZWZyZXNoTWluOiBhbnkgPSA1O1xuICBzZXJpZXNEYXRhOiBhbnkgPSB7fTtcbiAgcGl2b3RUYWJsZXM6IGFueSA9IHt9O1xuICBkYXNoUHVibGljVXJsOiBhbnkgPSAnJztcbiAgZGFzaGJvYXJkSW50ZXJ2YWw6IGFueTtcbiAgZHJvcGRvd25TZXR0aW5nczogYW55ID0ge307XG4gIHRhYmxlR3JhcGhzIDogYW55ID0gW11cbiAgY2FsbGVkU291cmNlRGF0YSA6IGFueSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgeHNpZ2h0c0JhY2tlbmQ6IFhzaWdodHNCYWNrZW5kU2VydmljZSxcbiAgICBwcml2YXRlIHhzaWdodHM6IFhTaWdodHNDb3JlU2VydmljZSxcbiAgICBwcml2YXRlIHRvYXN0U2VydmljZTogVG9hc3RyU2VydmljZSxcbiAgICBwcml2YXRlIGRhdGVQaXBlOiBEYXRlUGlwZSxcbiAgICBwcml2YXRlIGRhdGFTZXJ2aWNlOiBEYXRhU2VydmljZVxuICApIHtcbiAgICBpZiAodGhpcy5zdGFydERhdGUgPT0gbnVsbCkge1xuICAgICAgdGhpcy5mcm9tRGF0ZSA9IHRoaXMuZGF0ZVBpcGUudHJhbnNmb3JtKFxuICAgICAgICBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSAzKSksXG4gICAgICAgICd5eXl5LU1NLWRkJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcm9tRGF0ZSA9IHRoaXMuc3RhcnREYXRlO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbmREYXRlID09IG51bGwpIHtcbiAgICAgIHRoaXMudG9EYXRlID0gdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0obmV3IERhdGUoKSwgJ3l5eXktTU0tZGQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50b0RhdGUgPSB0aGlzLmVuZERhdGU7XG4gICAgfVxuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5kcm9wZG93blNldHRpbmdzID0ge1xuICAgICAgc2luZ2xlU2VsZWN0aW9uOiBmYWxzZSxcbiAgICAgIGVuYWJsZUNoZWNrQWxsOiBmYWxzZSxcbiAgICAgIGFsbG93U2VhcmNoRmlsdGVyOiB0cnVlLFxuICAgIH07XG4gICAgLy8gdGhpcy5yZW5kZXJQYWdlKCk7XG4gIH1cblxuICByZW5kZXJQYWdlKCkge1xuICAgIHRoaXMuc2hvd0xvYWRpbmcuZW1pdCh0cnVlKTtcbiAgICB0aGlzLmdldEdyYXBoRGFzaEJvYXJkQnlJZCgpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgLy9DYWxsZWQgb25jZSwgYmVmb3JlIHRoZSBpbnN0YW5jZSBpcyBkZXN0cm95ZWQuXG4gICAgLy9BZGQgJ2ltcGxlbWVudHMgT25EZXN0cm95JyB0byB0aGUgY2xhc3MuXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmRhc2hib2FyZEludGVydmFsKTtcbiAgfVxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgLy9DYWxsZWQgYmVmb3JlIGFueSBvdGhlciBsaWZlY3ljbGUgaG9vay4gVXNlIGl0IHRvIGluamVjdCBkZXBlbmRlbmNpZXMsIGJ1dCBhdm9pZCBhbnkgc2VyaW91cyB3b3JrIGhlcmUuXG4gICAgLy9BZGQgJyR7aW1wbGVtZW50cyBPbkNoYW5nZXN9JyB0byB0aGUgY2xhc3MuXG4gICAgaWYgKFxuICAgICAgY2hhbmdlc1snZGFzaGJvYXJkSWQnXT8uY3VycmVudFZhbHVlICE9XG4gICAgICAgIGNoYW5nZXNbJ2Rhc2hib2FyZElkJ10/LnByZXZpb3VzVmFsdWUgfHxcbiAgICAgIGNoYW5nZXNbJ2FkbWluSWQnXT8uY3VycmVudFZhbHVlICE9IGNoYW5nZXNbJ2FkbWluSWQnXT8ucHJldmlvdXNWYWx1ZSB8fFxuICAgICAgY2hhbmdlc1snc2hvd0hlYWRlciddPy5jdXJyZW50VmFsdWUgIT1cbiAgICAgICAgY2hhbmdlc1snc2hvd0hlYWRlciddPy5wcmV2aW91c1ZhbHVlIHx8XG4gICAgICBjaGFuZ2VzWydzaG93RmlsdGVycyddPy5jdXJyZW50VmFsdWUgIT1cbiAgICAgICAgY2hhbmdlc1snc2hvd0ZpbHRlcnMnXT8ucHJldmlvdXNWYWx1ZSB8fFxuICAgICAgY2hhbmdlc1sndG9nZ2xlRGFzaGJvYXJkJ10/LmN1cnJlbnRWYWx1ZSAhPVxuICAgICAgICBjaGFuZ2VzWyd0b2dnbGVEYXNoYm9hcmQnXT8ucHJldmlvdXNWYWx1ZVxuICAgICkge1xuICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XG4gICAgfVxuICB9XG4gXG4gIGdldEdyYXBoRGFzaEJvYXJkQnlJZCgpIHtcbiAgICBsZXQgZmlsdGVyIDogYW55ID0ge31cbiAgICB0aGlzLmZpbHRlcnMuZm9yRWFjaCgoZjogYW55KSA9PiB7XG4gICAgICBpZihmaWx0ZXJbZi5zb3VyY2VJZF0pe1xuICAgICAgICBmaWx0ZXJbZi5zb3VyY2VJZF0gPSB7XG4gICAgICAgICAgLi4uZmlsdGVyW2Yuc291cmNlSWRdLFxuICAgICAgICAgIFtmLmZpZWxkTmFtZV06IGYuc2VsVmFsdWVzLm1hcCgodmFsdWU6IGFueSkgPT4gdmFsdWUudGV4dClcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIGZpbHRlcltmLnNvdXJjZUlkXSA9IHtcbiAgICAgICAgICBbZi5maWVsZE5hbWVdOiBmLnNlbFZhbHVlcy5tYXAoKHZhbHVlOiBhbnkpID0+IHZhbHVlLnRleHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuc2VsRmlsdGVycyA9IGZpbHRlcjtcbiAgICBsZXQgZGF0YSA9IHtcbiAgICAgIGRhc2hib2FyZElkOiB0aGlzLmRhc2hib2FyZElkLFxuICAgICAgZmlsdGVyczogZmlsdGVyLFxuICAgICAgc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSA9PSBudWxsID8gbnVsbCA6IHRoaXMuZGF0ZVBpcGUudHJhbnNmb3JtKG5ldyBEYXRlKHRoaXMuc3RhcnREYXRlKSwgXCJ5eXl5LU1NLWRkXCIpLFxuICAgICAgZW5kRGF0ZTogdGhpcy5lbmREYXRlID09IG51bGwgPyBudWxsIDogdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0obmV3IERhdGUodGhpcy5lbmREYXRlKSwgXCJ5eXl5LU1NLWRkXCIpXG4gICAgfVxuXG4gICAgaWYodGhpcy5pc0RhdGVEaWZmZXJlbmNlR3JlYXRlclRoYW4xNURheXModGhpcy5zdGFydERhdGUsIHRoaXMuZW5kRGF0ZSkpe1xuICAgICAgU3dhbC5maXJlKHtcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgdGV4dDogXCJEYXRlIHJhbmdlIGdyZWF0ZXIgdGhhbiAzMCBkYXlzIGlzIG5vdCBzdXBwb3J0ZWRcIixcbiAgICAgICAgaWNvbjogXCJlcnJvclwiLFxuICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWVcbiAgICAgIH0pXG4gICAgICB0aGlzLnNob3dMb2FkaW5nLmVtaXQoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRhdGFTZXJ2aWNlXG4gICAgICAuZ2V0R3JhcGhEYXNoQm9hcmRCeUlkKGRhdGEsIHRoaXMuYWRtaW5JZClcbiAgICAgIC50aGVuKGFzeW5jIChyZXM6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnNob3dMb2FkaW5nLmVtaXQoZmFsc2UpO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSB0aGlzLmZpbHRlcnMubGVuZ3RoID09IDAgPyByZXMuZGF0YVswXT8uZmlsdGVycy5tYXAoKGZpbHRlcjogYW55KSA9PiB7XG4gICAgICAgICAgZmlsdGVyW1widmFsdWVzXCJdID0gSlNPTi5wYXJzZShmaWx0ZXJbXCJ2YWx1ZXNcIl0pLm1hcCgodmFsdWU6IGFueSwgaW5kZXg6IGFueSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IGluZGV4LFxuICAgICAgICAgICAgICB0ZXh0OiB2YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pIFxuICAgICAgICAgIGZpbHRlcltcInNlbFZhbHVlc1wiXSA9IGZpbHRlcltcInNlbFZhbHVlc1wiXSA/IGZpbHRlcltcInNlbFZhbHVlc1wiXSA6IFtdO1xuICAgICAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgICAgIH0pID8/IFtdIDogdGhpcy5maWx0ZXJzO1xuICAgICAgICB0aGlzLnNlcmllc0RhdGEgPSByZXMuZGF0YVswXT8uc2VyaWVzRGF0YTtcbiAgICAgICAgcmVzLmRhdGFbMF0uZ3JhcGhzID0gcmVzLmRhdGFbMF0uZ3JhcGhzLnNvcnQodGhpcy5zZXRHcmFwaE9yZGVyKTtcbiAgICAgICAgdGhpcy5kYXNoYm9hcmREYXRhID0gcmVzLmRhdGFbMF07XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmRhc2hib2FyZERhdGEuZ3JhcGhzKSB7XG4gICAgICAgICAgICBjb25zdCBncmFwaCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5zeXN0ZW1BcGlzLmluY2x1ZGVzKGdyYXBoLnNvdXJjZWlkLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2hvd0hlYWRlcklucHV0cyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ3JhcGguZ3JhcGhUeXBlICE9IDIgJiYgZ3JhcGguZ3JhcGhUeXBlICE9IDMpIHtcbiAgICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuc2VyaWVzRGF0YVtncmFwaC5ncmFwaF9pZF07XG4gICAgICAgICAgICAgIGxldCB0ZW1wR3JhcGhEYXRhID0ge1xuICAgICAgICAgICAgICAgIHJvd3M6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS54QXhpcyxcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUueUF4aXMsXG4gICAgICAgICAgICAgICAgYWdncmVnYXRpb25GdW5jdGlvbnM6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5hZ2dyZWFnYXRpb25zLFxuICAgICAgICAgICAgICAgIGZpbHRlcjogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmZpbHRlcixcbiAgICAgICAgICAgICAgICBjdXN0b21WYXJpYWJsZTogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmRlcml2ZWRWYXJpYWJsZXMsXG4gICAgICAgICAgICAgICAgZGF0YUZvcm1hdDogW10sXG4gICAgICAgICAgICAgICAgY29sVG9TaG93OiBudWxsLFxuICAgICAgICAgICAgICAgIGxhc3RMZXZlbENvbHVtbnM6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5sYXN0TGV2ZWxEYXRhID8/IFtdLFxuICAgICAgICAgICAgICAgIGNoYXJ0VHlwZTogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmNoYXJ0VHlwZSxcbiAgICAgICAgICAgICAgICBkYXRlVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kYXRlVmFyaWFibGUsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHRoaXMuYnVpbGRDaGFydChncmFwaCwgcmVzLCB0ZW1wR3JhcGhEYXRhLCB0aGlzLnNlbEZpbHRlcnMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGdyYXBoLmdyYXBoVHlwZSA9PSAzKXtcbiAgICAgICAgICAgICAgdGhpcy50YWJsZUdyYXBocy5wdXNoKGdyYXBoKTsgXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLnRhYmxlR3JhcGhzOiAnLCB0aGlzLnRhYmxlR3JhcGhzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5sb2FkaW5nQ29tcGxldGUoKVxuICAgICAgICB9LCA1MDApXG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9KTtcbiAgfVxuXG4gIGlzRGF0ZURpZmZlcmVuY2VHcmVhdGVyVGhhbjE1RGF5cyhkYXRlMTogYW55LCBkYXRlMjogYW55KSB7XG4gICAgLy8gQ3JlYXRlIERhdGUgb2JqZWN0c1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA6IGFueSA9IG5ldyBEYXRlKGRhdGUxKTtcbiAgICBjb25zdCBlbmREYXRlIDogYW55ID0gbmV3IERhdGUoZGF0ZTIpO1xuICBcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2UgaW4gbWlsbGlzZWNvbmRzXG4gICAgY29uc3QgZGlmZmVyZW5jZUluTWlsbGlzID0gTWF0aC5hYnMoc3RhcnREYXRlIC0gZW5kRGF0ZSk7XG4gIFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBpbiBkYXlzXG4gICAgY29uc3QgZGlmZmVyZW5jZUluRGF5cyA9IGRpZmZlcmVuY2VJbk1pbGxpcyAvICgxMDAwICogNjAgKiA2MCAqIDI0KTtcbiAgXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGRpZmZlcmVuY2UgaXMgZ3JlYXRlciB0aGFuIDE1IGRheXNcbiAgICByZXR1cm4gZGlmZmVyZW5jZUluRGF5cyA+IDMwO1xuICB9XG5cbiAgYXN5bmMgcmVuZGVyVGFibGUoKXtcbiAgICBpZih0aGlzLnRhYmxlR3JhcGhzLmxlbmd0aCA+IDApe1xuICAgICAgdGhpcy50YWJsZUdyYXBocy5mb3JFYWNoKGFzeW5jIChncmFwaDogYW55KSA9PiB7XG4gICAgICAgICAgbGV0IGRhdGEgOiBhbnkgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRGFzaGJvYXJkKGdyYXBoLCBmYWxzZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2RhdGE6ICcsIGRhdGEpO1xuICAgICAgICAgIGxldCB0ZW1wR3JhcGhEYXRhID0ge1xuICAgICAgICAgICAgcm93czogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLnhBeGlzLFxuICAgICAgICAgICAgY29sdW1uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLnlBeGlzLFxuICAgICAgICAgICAgYWdncmVnYXRpb25GdW5jdGlvbnM6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5hZ2dyZWFnYXRpb25zLFxuICAgICAgICAgICAgZmlsdGVyOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuZmlsdGVyLFxuICAgICAgICAgICAgY3VzdG9tVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kZXJpdmVkVmFyaWFibGVzLFxuICAgICAgICAgICAgZGF0YUZvcm1hdDogW10sXG4gICAgICAgICAgICBjb2xUb1Nob3c6IG51bGwsXG4gICAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUubGFzdExldmVsRGF0YSA/PyBbXSxcbiAgICAgICAgICAgIGNoYXJ0VHlwZTogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmNoYXJ0VHlwZSxcbiAgICAgICAgICAgIGRhdGVWYXJpYWJsZTogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmRhdGVWYXJpYWJsZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChncmFwaC5zb3VyY2VpZC50b1N0cmluZygpID09IHRoaXMubXRyU291cmNlKSB7XG4gICAgICAgICAgICB0ZW1wR3JhcGhEYXRhID0gdGhpcy5kYXRhU2VydmljZS5rZXlDb252ZXJ0ZXIoXG4gICAgICAgICAgICAgIHRlbXBHcmFwaERhdGEsXG4gICAgICAgICAgICAgIGRhdGFbMF0uY29sdW1ucyxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5idWlsZENoYXJ0KGdyYXBoLCBkYXRhWzBdLmRhdGEsIHRlbXBHcmFwaERhdGEsIG51bGwpO1xuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgXG4gIGdlbmVyYXRlRGFzaGJvYXJkKGdyYXBoOiBhbnksIHJlQ2FsbDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5jYWxsZWRTb3VyY2VEYXRhLmhhc093blByb3BlcnR5KGdyYXBoLnNvdXJjZWlkLnRvU3RyaW5nKCkpICYmXG4gICAgICAgICFyZUNhbGxcbiAgICAgICkge1xuICAgICAgICByZXNvbHZlKHRoaXMuY2FsbGVkU291cmNlRGF0YVtncmFwaC5zb3VyY2VpZC50b1N0cmluZygpXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZCA9IHtcbiAgICAgICAgICBncmFwaElkOiBncmFwaC5ncmFwaF9pZCxcbiAgICAgICAgICBkYXRhRmlsdGVyOiB0aGlzLnNlbEZpbHRlcnMsXG4gICAgICAgICAgZGlyZWN0aW9uOiAwLFxuICAgICAgICAgIGFkbWluSWQ6IHRoaXMuYWRtaW5JZCxcbiAgICAgICAgICBzaGFyZWlkOiBudWxsLFxuICAgICAgICAgIHN0YXJ0VGltZTogIHRoaXMuc3RhcnREYXRlID8/IHRoaXMuZnJvbURhdGUsXG4gICAgICAgICAgZW5kVGltZTogIHRoaXMuZW5kRGF0ZSA/PyB0aGlzLnRvRGF0ZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YVNlcnZpY2UuZ2V0R3JhcGhEYXRhQnlJZChkKS50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgU3dhbC5oaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgU3dhbC5jbG9zZSgpO1xuICAgICAgICAgICAgbGV0IGR1bXBEYXRhID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAvLyB0aGlzLnVuaXF1ZVNvdXJjZURhdGEucHVzaChncmFwaCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGdyYXBoLmRhdGFUeXBlID09ICdyZW1vdGUtanNvbicgJiZcbiAgICAgICAgICAgICAgIXRoaXMuc3lzdGVtQXBpcy5pbmNsdWRlcyhncmFwaC5zb3VyY2VpZC50b1N0cmluZygpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJlcy5kYXRhID0gdGhpcy5kYXRhU2VydmljZS5wYXJzZURhdGFGb3JtYXQocmVzLmRhdGEsIGdyYXBoLmRhdGFGb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYWxsZWRTb3VyY2VEYXRhW2dyYXBoLnNvdXJjZWlkLnRvU3RyaW5nKCldID0gZHVtcERhdGE7XG4gICAgICAgICAgICByZXNvbHZlKGR1bXBEYXRhKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBTd2FsLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICBTd2FsLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnRvYXN0U2VydmljZS5lcnJvcignVW5hYmxlIHRvIEZldGNoIERhdGEnKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGJ1aWxkQ2hhcnQod2lkZ2V0RGF0YTogYW55LCBkYXRhOiBhbnksIHRlbXBEYXRhOiBhbnksIGRhc2hib2FyZEZpbHRlcjogYW55KSB7XG4gICAgbGV0IF9zZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHJhbmdlIDogYW55ID0ge307XG4gICAgICBpZiAodGhpcy5zeXN0ZW1BcGlzLmluY2x1ZGVzKHdpZGdldERhdGEuc291cmNlaWQudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSA/PyB0aGlzLmZyb21EYXRlLFxuICAgICAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZSA/PyB0aGlzLnRvRGF0ZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICh3aWRnZXREYXRhLmdyYXBoVHlwZSA9PSAxKSB7XG4gICAgICAgIGlmKCF0aGlzLnN5c3RlbUFwaXMuaW5jbHVkZXMod2lkZ2V0RGF0YS5zb3VyY2VpZC50b1N0cmluZygpKSl7XG4gICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICBzdGFydERhdGU6IHRoaXMuZGF0ZVBpcGUudHJhbnNmb3JtKFxuICAgICAgICAgICAgICB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5zdGFydERhdGUsXG4gICAgICAgICAgICAgICd5eXl5LU1NLWRkJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGVuZERhdGU6IHRoaXMuZGF0ZVBpcGUudHJhbnNmb3JtKFxuICAgICAgICAgICAgICB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5lbmREYXRlLFxuICAgICAgICAgICAgICAneXl5eS1NTS1kZCdcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ3JhcGhEYXRhID0ge1xuICAgICAgICAgIGdyYXBoSWQ6ICdncmFwaC0nICsgd2lkZ2V0RGF0YS5ncmFwaF9pZCxcbiAgICAgICAgICBncmFwaFRpdGxlOiB3aWRnZXREYXRhLmdyYXBobmFtZSxcbiAgICAgICAgICByb3dzOiB0ZW1wRGF0YS5yb3dzWzBdLFxuICAgICAgICAgIGNvbHVtbnM6IHRlbXBEYXRhLmNvbHVtbnNbMF0sXG4gICAgICAgICAgZ3JhcGhUeXBlczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlWzBdLFxuICAgICAgICAgIGdyYXBoRGF0YTogZGF0YSxcbiAgICAgICAgICBhZ2dyZWdhdGlvbkZ1bmN0aW9uczogdGVtcERhdGEuYWdncmVnYXRpb25GdW5jdGlvbnNbMF0sXG4gICAgICAgICAgZmlsdGVyOiB0ZW1wRGF0YS5maWx0ZXIsXG4gICAgICAgICAgY29sb3JzOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5jb2xDb2xvdXJzWzBdLFxuICAgICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgICBkYXRlVmFyaWFibGU6IHRlbXBEYXRhLmRhdGVWYXJpYWJsZSxcbiAgICAgICAgICByYW5nZUZpbHRlcjogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUucmFuZ2VGaWx0ZXIsXG4gICAgICAgICAgY29tcGFyaXNvbjogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY29tcGFyaXNvbiA/PyBbXSxcbiAgICAgICAgICBjdXN0b21WYXJpYWJsZTogdGVtcERhdGEuY3VzdG9tVmFyaWFibGUsXG4gICAgICAgICAgZGF0YUZvcm1hdDogdGVtcERhdGEuZGF0YUZvcm1hdCA/PyBbXSxcbiAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiB0ZW1wRGF0YS5sYXN0TGV2ZWxDb2x1bW5zID8/IFtdLFxuICAgICAgICAgIHNlbEtleXM6IFtdLFxuICAgICAgICAgIGFkbWluSWQ6IHRoaXMuYWRtaW5JZCxcbiAgICAgICAgICBzb3VyY2VJZDogd2lkZ2V0RGF0YS5zb3VyY2VJZCxcbiAgICAgICAgICBkYXNoYm9hcmRGaWx0ZXI6IGRhc2hib2FyZEZpbHRlclxuICAgICAgICB9O1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBfc2VsZi54c2lnaHRzQmFja2VuZC5idWlsZChXaWRnZXRUeXBlLlRSRU5ELCBncmFwaERhdGEpO1xuICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSBpZiAod2lkZ2V0RGF0YS5ncmFwaFR5cGUgPT0gMykge1xuICAgICAgICBsZXQgdGFibGVEYXRhID0ge1xuICAgICAgICAgIHJvd3M6IHRlbXBEYXRhLnJvd3MsXG4gICAgICAgICAgY29sdW1uOiB0ZW1wRGF0YS5jb2x1bW5zLFxuICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb246IHRlbXBEYXRhLmFnZ3JlZ2F0aW9uRnVuY3Rpb25zLFxuICAgICAgICAgIGZpbHRlcjogdGVtcERhdGEuZmlsdGVyLFxuICAgICAgICAgIGRlcml2ZWRWYXJpYWJsZXM6IHRlbXBEYXRhLmN1c3RvbVZhcmlhYmxlLFxuICAgICAgICAgIGRhdGFGb3JtYXQ6IHRlbXBEYXRhLmRhdGFGb3JtYXQgPz8gW10sXG4gICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgY2F0ZWdvcmllczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlXG4gICAgICAgIH07XG4gICAgICAgIF9zZWxmLnBpdm90VGFibGVzWyd0YWJsZS0nICsgd2lkZ2V0RGF0YS5ncmFwaF9pZF0gPVxuICAgICAgICAgIGF3YWl0IF9zZWxmLnhzaWdodHMuYnVpbGQoV2lkZ2V0VHlwZS5QSVZPVF9UQUJMRSwgdGFibGVEYXRhKTtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBncmFwaGRhdGEgPSB7XG4gICAgICAgICAgZ3JhcGhJZDogJ2dyYXBoLScgKyB3aWRnZXREYXRhLmdyYXBoX2lkLFxuICAgICAgICAgIGdyYXBoVGl0bGU6IHdpZGdldERhdGEuZ3JhcGhuYW1lLFxuICAgICAgICAgIHJvd3M6IHRlbXBEYXRhLnJvd3MsXG4gICAgICAgICAgYWRtaW5JZDogdGhpcy5hZG1pbklkLFxuICAgICAgICAgIGNvbHVtbnM6IHRlbXBEYXRhLmNvbHVtbnMsXG4gICAgICAgICAgYWdncmVnYXRpb25GdW5jdGlvbnM6IHRlbXBEYXRhLmFnZ3JlZ2F0aW9uRnVuY3Rpb25zLFxuICAgICAgICAgIGZpbHRlcjogdGVtcERhdGEuZmlsdGVyLFxuICAgICAgICAgIGN1c3RvbVZhcmlhYmxlOiB0ZW1wRGF0YS5jdXN0b21WYXJpYWJsZSxcbiAgICAgICAgICBzZWxLZXlzOiBbXSxcbiAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgc291cmNlSWQ6IHdpZGdldERhdGEuc291cmNlSWQsXG4gICAgICAgICAgZGF0YUZvcm1hdDogdGVtcERhdGEuZGF0YUZvcm1hdCA/PyBbXSxcbiAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiB0ZW1wRGF0YS5sYXN0TGV2ZWxDb2x1bW5zID8/IFtdLFxuICAgICAgICAgIGdyYXBoVHlwZXM6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmNoYXJ0VHlwZSxcbiAgICAgICAgICBncmFwaERhdGE6IGRhdGEsXG4gICAgICAgICAgY29sb3JzOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5jb2xDb2xvdXJzLFxuICAgICAgICAgIGRhc2hib2FyZEZpbHRlcjogZGFzaGJvYXJkRmlsdGVyXG4gICAgICAgIH07XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGxldCByZXNwb25zZSA9IHRoaXMueHNpZ2h0c0JhY2tlbmQuYnVpbGQoV2lkZ2V0VHlwZS5HUkFQSCwgZ3JhcGhkYXRhKTtcbiAgICAgICAgfSwgNTAwKVxuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGxvYWRpbmdDb21wbGV0ZSgpIHtcbiAgICB0aGlzLnJlbmRlclRhYmxlKCk7ICBcbiAgICB0aGlzLmlzRGFzaGJvYXJkTG9hZGVkLmVtaXQoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBoYXNTeXN0ZW1BcGk6IHRoaXMuc2hvd0hlYWRlcklucHV0c1xuICAgIH0pO1xuICB9XG4gIHNldEdyYXBoT3JkZXIoYTogYW55LCBiOiBhbnkpIHtcbiAgICBpZiAoYS5vcmRlciA8IGIub3JkZXIpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKGEub3JkZXIgPiBiLm9yZGVyKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJyb3dcIiAqbmdJZj1cImRhc2hib2FyZERhdGEgIT0gbnVsbFwiPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRhc2hfZ3JhcGhfc2VjXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGFzaF9ncmFwaFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7XCIgKm5nSWY9XCJzaG93SGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cImdyYXBoX25hbWVcIiBzdHlsZT1cImhlaWdodDogNDRweDtmbGV4OmF1dG87dGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZTtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7ZGFzaGJvYXJkRGF0YS5kYXNoYm9hcmRfbmFtZX19ICZuYnNwOyA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXdhcm5pbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZGFzaGJvYXJkRGF0YS5kYXNoYm9hcmRfdHlwZSA9PSAxXCI+TElWRTwvc3Bhbj4gPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBkYXRlLWNvbnRhaW5lclwiICpuZ0lmPVwic2hvd0hlYWRlcklucHV0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy02XCI+IDxsYWJlbCBmb3I9XCJzdGFydERhdGVcIj5Gcm9tICZuYnNwOyZuYnNwOzwvbGFiZWw+IDxpbnB1dCB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsobmdNb2RlbCldPVwiZnJvbURhdGVcIiBpZD1cInN0YXJ0RGF0ZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+IDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy02XCI+IDxsYWJlbCBmb3I9XCJlbmREYXRlXCI+VG8gJm5ic3A7Jm5ic3A7PC9sYWJlbD4gPGlucHV0IHR5cGU9XCJkYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJ0b0RhdGVcIiBpZD1cImVuZERhdGVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgKGNsaWNrKT1cInJlbmRlclBhZ2UoKVwiPlNlYXJjaDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWNvbnRhaW5lclwiICpuZ0lmPVwiZmlsdGVycy5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzPkZpbHRlcnM6PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMiByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctM1wiICpuZ0Zvcj1cImxldCBmaWx0ZXIgb2YgZmlsdGVycztsZXQgaSA9IGluZGV4XCI+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1tdWx0aXNlbGVjdC1kcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwiJ1NlbGVjdCAnICsgZmlsdGVyLmZpZWxkTmFtZSArICcuLi4nXCIgWyhuZ01vZGVsKV09XCJmaWx0ZXIuc2VsVmFsdWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3NldHRpbmdzXT1cImRyb3Bkb3duU2V0dGluZ3NcIiBbZGF0YV09XCJmaWx0ZXIudmFsdWVzXCI+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctbXVsdGlzZWxlY3QtZHJvcGRvd24+IFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgKGNsaWNrKT1cImdldEdyYXBoRGFzaEJvYXJkQnlJZCgpXCI+QXBwbHkgRmlsdGVyPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgZ3JhcGhfZGVzaWduXCIgaWQ9XCJkYXNoYm9hcmRTY3JlZW5cIiAjZGFzaGJvYXJkU2NyZWVuPiA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgZ3JhcGggb2YgZGFzaGJvYXJkRGF0YS5ncmFwaHM7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJncmFwaC5ncmFwaFR5cGUgIT0gMyAmJiBncmFwaC5ncmFwaFR5cGUgIT0gMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXNoYm9hcmQtZ3JhcGhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J2NvbC1sZy0xMic6IGdyYXBoLmdyYXBoX2luZGV4ID09IDEsJ2NvbC1sZy02JzogZ3JhcGguZ3JhcGhfaW5kZXggPT0gMiwnY29sLWxnLTQnOiBncmFwaC5ncmFwaF9pbmRleCA9PSAzLCdjb2wtbGctMyc6IGdyYXBoLmdyYXBoX2luZGV4ID09IDR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJtaW4taGVpZ2h0OiAzNzBweDsgcGFkZGluZzogMHB4O1wiPiA8IS0tIGxvYWRlciBzdGFydCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzICpuZ0lmPVwiZ3JhcGguZ3JhcGhfc3RydWN0dXJlLnhBeGlzWzBdICE9ICcqKipMQUJFTCoqKidcIiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgYmFja2dyb3VuZC1jb2xvcjogI2VlZTsgcGFkZGluZzogMnB4O1wiPnt7Z3JhcGguZ3JhcGhuYW1lfX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFtpZF09XCInZ3JhcGgtJysgZ3JhcGguZ3JhcGhfaWRcIiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzogMTBweDsgcGFkZGluZy10b3A6IDQ1cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGRzLWVsbGlwc2lzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiA8IS0tIGxvYWRlciBlbmQgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZ3JhcGguZ3JhcGhUeXBlID09IDJcIiBjbGFzcz1cImRhc2hib2FyZC1ncmFwaFwiIFtpZF09XCIndGFibGUtZ3JhcGgtJysgZ3JhcGguZ3JhcGhfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnY29sLWxnLTEyJzogZ3JhcGguZ3JhcGhfaW5kZXggPT0gMSwnY29sLWxnLTYnOiBncmFwaC5ncmFwaF9pbmRleCA9PSAyLCdjb2wtbGctNCc6IGdyYXBoLmdyYXBoX2luZGV4ID09IDMsJ2NvbC1sZy0zJzogZ3JhcGguZ3JhcGhfaW5kZXggPT0gNH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYm9yZGVyLWJvdHRvbTogMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOmFudGlxdWV3aGl0ZTtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGxvYWRlciBzdGFydCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDBweDtcIj57e2dyYXBoLmdyYXBobmFtZX19PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGxvYWRlciBlbmQgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJncmFwaC5ncmFwaFR5cGUgPT0gM1wiIGNsYXNzPVwiZGFzaGJvYXJkLWdyYXBoXCIgW2lkXT1cIid0YWJsZS0nKyBncmFwaC5ncmFwaF9pZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydjb2wtbGctMTInOiBncmFwaC5ncmFwaF9pbmRleCA9PSAxLCdjb2wtbGctNic6IGdyYXBoLmdyYXBoX2luZGV4ID09IDIsJ2NvbC1sZy00JzogZ3JhcGguZ3JhcGhfaW5kZXggPT0gMywnY29sLWxnLTMnOiBncmFwaC5ncmFwaF9pbmRleCA9PSA0fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJtaW4taGVpZ2h0OiAzMDBweDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgcGFkZGluZy1ib3R0b206IDIlO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gbG9hZGVyIHN0YXJ0IC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj57e2dyYXBoLmdyYXBobmFtZX19PC9oMz4gPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cInBpdm90VGFibGVzLmhhc093blByb3BlcnR5KCd0YWJsZS0nICsgZ3JhcGguZ3JhcGhfaWQpXCI+IDxkeC1waXZvdC1ncmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dTb3J0aW5nQnlTdW1tYXJ5XT1cInRydWVcIiBbYWxsb3dTb3J0aW5nXT1cInRydWVcIiBbYWxsb3dGaWx0ZXJpbmddPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd0JvcmRlcnNdPVwidHJ1ZVwiIFtkYXRhU291cmNlXT1cInBpdm90VGFibGVzWyd0YWJsZS0nICsgZ3JhcGguZ3JhcGhfaWRdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWZpZWxkLWNob29zZXIgW2VuYWJsZWRdPVwiZmFsc2VcIj48L2R4by1maWVsZC1jaG9vc2VyPiA8L2R4LXBpdm90LWdyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+IDxuZy1jb250YWluZXIgKm5nSWY9XCJwaXZvdFRhYmxlc1sndGFibGUtJyArIGdyYXBoLmdyYXBoX2lkXSA9PSB1bmRlZmluZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxkcy1lbGxpcHNpc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+IDwhLS0gbG9hZGVyIGVuZCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj4gPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj4iXX0=