import { Component, EventEmitter, Input, Output, } from '@angular/core';
import * as lodash from 'lodash';
import { WidgetType } from '../../x-sights-core.service';
import * as i0 from "@angular/core";
import * as i1 from "../../services/data.service";
import * as i2 from "../../x-sights-core.service";
import * as i3 from "ng-multiselect-dropdown";
import * as i4 from "devextreme-angular";
import * as i5 from "devextreme-angular/ui/nested";
import * as i6 from "@angular/common";
import * as i7 from "@angular/forms";
export class XSightsPublicDashboardComponent {
    constructor(dataService, xsights) {
        this.dataService = dataService;
        this.xsights = xsights;
        this.dashboardUrl = '';
        this.adminId = 0;
        this.dashboardLoaded = new EventEmitter();
        this.mtrSource = '138';
        this.decodedParams = {};
        this.dashboardData = null;
        this.filters = [];
        this.dropdownSettings = {};
        this.tableDatas = {};
        this.dumpData = [];
    }
    ngOnInit() {
        // this.decodeUrl();
        this.dropdownSettings = {
            singleSelection: false,
            enableCheckAll: false,
            allowSearchFilter: true,
        };
    }
    ngOnChanges(changes) {
        //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.
        //Add '${implements OnChanges}' to the class.
        if (changes['dashboardUrl'].previousValue !=
            changes['dashboardUrl'].currentValue ||
            changes['adminId'].previousValue != changes['adminId'].currentValue) {
            this.decodeUrl();
        }
    }
    checkDashboardLoading() {
        const elements = document.querySelectorAll('.lds-ellipsis');
        if (elements.length == 0) {
            this.dashboardLoaded.emit({
                isLoaded: true,
            });
        }
    }
    decodeUrl() {
        this.dataService.getDecodedUrl(this.dashboardUrl).then((res) => {
            const urlParamsStr = res.data[0].split('?')[1];
            const urlParamsArr = urlParamsStr.split('&');
            urlParamsArr.forEach((param) => {
                this.decodedParams[param.split('=')[0]] = param.split('=')[1];
            });
            this.getSharedDashboard();
        });
    }
    setGraphOrder(a, b) {
        if (a.order < b.order) {
            return -1;
        }
        if (a.order > b.order) {
            return 1;
        }
        return 0;
    }
    getSharedDashboard() {
        this.adminId = this.decodedParams.foAdminId;
        let params = '?dash_id=' +
            this.decodedParams.dash_id +
            '&fileId=' +
            this.decodedParams.fileId;
        this.dataService
            .getSharedDashboard(params, this.adminId)
            .then((res) => {
            this.filters = res.data[0].filters;
            res.data[0].graphs = res.data[0].graphs.sort(this.setGraphOrder);
            this.dashboardData = res.data[0];
            this.dataService
                .getSharedDashboardData(this.dashboardData.id, this.adminId)
                .then((res) => {
                // //console.log(res);
                this.dumpData = res;
                lodash.forEach(this.dashboardData.graphs, (graph) => {
                    if (graph.graphType != 2) {
                        let dataIndex = res.findIndex((d) => d.chartId == 'graph-' + graph.graph_id);
                        let graphD = typeof res[dataIndex].data != "object"
                            ? res[res[dataIndex].data].data
                            : res[dataIndex].data;
                        if (dataIndex != -1) {
                            this.filters = lodash.map(this.filters, (filter) => {
                                if (filter.sourceId.toString() == graph.sourceid.toString()) {
                                    filter.values = Object.keys(lodash.groupBy(graphD, filter.fieldName)).map((key, index) => ({
                                        id: index,
                                        text: key,
                                    }));
                                    filter.selValues = [];
                                }
                                return filter;
                            });
                            let tempGraphData = {
                                rows: graph.graph_structure.xAxis,
                                columns: graph.graph_structure.yAxis,
                                aggregationFunctions: graph.graph_structure.aggreagations,
                                filter: graph.graph_structure.filter,
                                customVariable: graph.graph_structure.derivedVariables,
                                dataFormat: [],
                                colToShow: null,
                                lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                                dateVariable: graph.graph_structure.dateVariable,
                                chartType: graph.graph_structure.chartType,
                            };
                            if (graph.sourceid.toString() == this.mtrSource) {
                                tempGraphData = this.dataService.keyConverter(tempGraphData, res[dataIndex].columns, 1);
                            }
                            this.buildChart(graph, graphD, tempGraphData);
                        }
                    }
                });
            });
        });
    }
    filterData(data, sourceId) {
        let filterToApply = this.filters.filter((filter) => filter.sourceId.toString() == sourceId.toString());
        filterToApply.forEach((filter) => {
            if (filter.selValues.length) {
                let validValues = filter.selValues.map((value) => value.text);
                let temp = [];
                let groupData = lodash.groupBy(data, filter.fieldName);
                let allKeys = Object.keys(groupData);
                allKeys.forEach((key) => {
                    if (validValues.includes(key)) {
                        temp.push(...groupData[key]);
                    }
                });
                data = temp;
            }
        });
        return data;
    }
    buildChart(widgetData, data, tempData) {
        let _self = this;
        return new Promise(async (resolve, reject) => {
            data = this.filterData(data, widgetData.sourceid.toString());
            // data = this.filterData(data, widgetData.sourceid);
            if (widgetData.graphType == 1) {
                let graphData = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows[0],
                    columns: tempData.columns[0],
                    graphTypes: widgetData.graph_structure.chartType[0],
                    graphData: data,
                    aggregationFunctions: tempData.aggregationFunctions[0],
                    filter: tempData.filter,
                    colors: widgetData.graph_structure.colColours[0],
                    range: {
                        startDate: widgetData.graph_structure.startDate,
                        endDate: widgetData.graph_structure.endDate,
                    },
                    dateVariable: tempData.dateVariable,
                    rangeFilter: widgetData.graph_structure.rangeFilter,
                    comparison: widgetData.graph_structure.comparison ?? [],
                    customVariable: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                };
                let response = await _self.xsights.build(WidgetType.TREND, graphData);
                resolve(response);
                _self.checkDashboardLoading();
            }
            else if (widgetData.graphType == 3) {
                let tableData = {
                    rows: tempData.rows,
                    column: tempData.columns,
                    aggregationFunction: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    derivedVariables: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    data: data,
                    categories: widgetData.graph_structure.chartType,
                };
                _self.tableDatas['table-graph-' + widgetData.graph_id] =
                    await _self.xsights.build(WidgetType.PIVOT_TABLE, tableData);
                resolve(true);
                setTimeout(() => {
                    _self.checkDashboardLoading();
                }, 500);
            }
            else {
                let graphdata = {
                    graphId: 'graph-' + widgetData.graph_id,
                    graphTitle: widgetData.graphname,
                    rows: tempData.rows,
                    columns: tempData.columns,
                    aggregationFunctions: tempData.aggregationFunctions,
                    filter: tempData.filter,
                    customVariable: tempData.customVariable,
                    dataFormat: tempData.dataFormat ?? [],
                    lastLevelColumns: tempData.lastLevelColumns ?? [],
                    graphTypes: widgetData.graph_structure.chartType,
                    graphData: data,
                    colors: widgetData.graph_structure.colColours,
                };
                let response = await this.xsights.build(WidgetType.GRAPH, graphdata);
                resolve(response);
                _self.checkDashboardLoading();
            }
        });
    }
    async filteredDashboard() {
        for (const element of this.dashboardData.graphs) {
            const graph = element;
            let res = null;
            if (graph.graphType != 2) {
                let dataIndex = this.dumpData.findIndex((d) => d.chartId == 'graph-' + graph.graph_id);
                res = this.dumpData[dataIndex].data;
                let tempGraphData = {
                    rows: graph.graph_structure.xAxis,
                    columns: graph.graph_structure.yAxis,
                    aggregationFunctions: graph.graph_structure.aggreagations,
                    filter: graph.graph_structure.filter,
                    customVariable: graph.graph_structure.derivedVariables,
                    dataFormat: [],
                    colToShow: null,
                    lastLevelColumns: graph.graph_structure.lastLevelData ?? [],
                    dateVariable: graph.graph_structure.dateVariable,
                    chartType: graph.graph_structure.chartType,
                };
                if (graph.sourceid.toString() == this.mtrSource) {
                    tempGraphData = this.dataService.keyConverter(tempGraphData, this.dumpData[dataIndex].columns, 1);
                }
                this.buildChart(graph, res, tempGraphData);
            }
        }
    }
}
XSightsPublicDashboardComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsPublicDashboardComponent, deps: [{ token: i1.DataService }, { token: i2.XSightsCoreService }], target: i0.ɵɵFactoryTarget.Component });
XSightsPublicDashboardComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.0.3", type: XSightsPublicDashboardComponent, selector: "x-sights-public-dashboard", inputs: { dashboardUrl: "dashboardUrl", adminId: "adminId" }, outputs: { dashboardLoaded: "dashboardLoaded" }, usesOnChanges: true, ngImport: i0, template: "<div *ngIf=\"dashboardData !=null\">\n    <div class=\"dash_graph_sec\">\n        <div class=\"dash_graph dashboard-wrapper\">\n            <div>\n                <h3 class=\"graph_name\" style=\"height: 44px;\">{{dashboardData.dashboard_name}} </h3>\n            </div>\n            <div class=\"filter-container\" *ngIf=\"filters.length\">\n                <h3>Filters:</h3>\n                <div class=\"col-lg-12 row\">\n                    <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i=index\"> <ng-multiselect-dropdown [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\" (onSelect)=\"filteredDashboard()\"\n                            (onDeSelect)=\"filteredDashboard()\" [settings]=\"dropdownSettings\" [data]=\"filter.values\">\n                        </ng-multiselect-dropdown> </div>\n                </div>\n            </div>\n            <div class=\"row graph_design\" id=\"dashboardScreen\"> \n                <ng-container *ngFor=\"let graph of dashboardData?.graphs;let i=index;\">\n                    <!-- <div class=\"page-break\" *ngIf=\"i % 5 == 0 && i != 0\"></div> -->\n                    <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                        <div class=\"dashboard-graph\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                            <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                            <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div> <!-- loader end -->\n                            </div>\n                        </div>\n                    </ng-container>\n                    <!-- <div *ngIf=\"graph.graphType !=3 && graph.graphType !=2\" class=\"dashboard-graph\" [id]=\"'graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 370px; display: flex;\"> \n                        <div class=\"lds-ellipsis\">\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                        </div> \n                    </div> -->\n                    <div *ngIf=\"graph.graphType==2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                        [ngClass]=\"{'col-lg-12':\n                        graph.graph_index==1,'col-lg-6': graph.graph_index==2,'col-lg-4':\n                        graph.graph_index==3,'col-lg-3': graph.graph_index==4}\" style=\"display: flex;\n                        flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                        <!-- loader start -->\n                        <h2 style=\"text-align: center; margin-bottom: 0px;\">\n                            {{graph.graphname}}</h2> <!-- loader end -->\n                    </div>\n                    <div *ngIf=\"graph.graphType==3\" class=\"dashboard-graph\" [id]=\"'table-graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                        <!-- loader start -->\n                        <h3 style=\"text-align: center;\">{{graph.graphname}}</h3>\n                        <ng-container *ngIf=\"tableDatas.hasOwnProperty('table-graph-' + graph.graph_id)\">\n                            <dx-pivot-grid [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                [showBorders]=\"true\" [dataSource]=\"tableDatas['table-graph-' + graph.graph_id]\">\n                                <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                        </ng-container> <ng-container *ngIf=\"tableDatas['table-graph-' +\n                            graph.graph_id]==undefined\">\n                            <div class=\"lds-ellipsis\">\n                                <div></div>\n                                <div>\n                                </div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                        </ng-container>\n                        <!-- loader end -->\n                    </div>\n                </ng-container> </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec .dash_graph{background-color:#fff}.dash_graph_sec .dash_graph .graph_name{text-align:center;background-color:#000;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:1px solid #e4e4e4;border-top:0px;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.captcha-box{display:flex;justify-content:center;align-items:center;height:100%;position:absolute;width:100%;padding:5%;background:#ccc}.dashboard-wrapper{box-shadow:1px 1px 10px #ddd;border-radius:5px}.main_container{background-size:cover;background-repeat:no-repeat}@media print{.page-break{page-break-after:always!important}#dashboardScreen{display:block}}@media print{::ng-deep body,::ng-deep html,::ng-deep #wrapper{width:100%!important}::ng-deep .highcharts-root{width:100%!important}}\n"], components: [{ type: i3.MultiSelectComponent, selector: "ng-multiselect-dropdown", inputs: ["disabled", "placeholder", "settings", "data"], outputs: ["onFilterChange", "onDropDownClose", "onSelect", "onDeSelect", "onSelectAll", "onDeSelectAll"] }, { type: i4.DxPivotGridComponent, selector: "dx-pivot-grid", inputs: ["allowExpandAll", "allowFiltering", "allowSorting", "allowSortingBySummary", "dataFieldArea", "dataSource", "disabled", "elementAttr", "encodeHtml", "export", "fieldChooser", "fieldPanel", "headerFilter", "height", "hideEmptySummaryCells", "hint", "loadPanel", "rowHeaderLayout", "rtlEnabled", "scrolling", "showBorders", "showColumnGrandTotals", "showColumnTotals", "showRowGrandTotals", "showRowTotals", "showTotalsPrior", "stateStoring", "tabIndex", "texts", "visible", "width", "wordWrapEnabled"], outputs: ["onCellClick", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDisposing", "onExporting", "onInitialized", "onOptionChanged", "allowExpandAllChange", "allowFilteringChange", "allowSortingChange", "allowSortingBySummaryChange", "dataFieldAreaChange", "dataSourceChange", "disabledChange", "elementAttrChange", "encodeHtmlChange", "exportChange", "fieldChooserChange", "fieldPanelChange", "headerFilterChange", "heightChange", "hideEmptySummaryCellsChange", "hintChange", "loadPanelChange", "rowHeaderLayoutChange", "rtlEnabledChange", "scrollingChange", "showBordersChange", "showColumnGrandTotalsChange", "showColumnTotalsChange", "showRowGrandTotalsChange", "showRowTotalsChange", "showTotalsPriorChange", "stateStoringChange", "tabIndexChange", "textsChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { type: i5.DxoFieldChooserComponent, selector: "dxo-field-chooser", inputs: ["allowSearch", "applyChangesMode", "enabled", "height", "layout", "searchTimeout", "texts", "title", "width"] }], directives: [{ type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i7.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i7.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i6.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: XSightsPublicDashboardComponent, decorators: [{
            type: Component,
            args: [{ selector: 'x-sights-public-dashboard', template: "<div *ngIf=\"dashboardData !=null\">\n    <div class=\"dash_graph_sec\">\n        <div class=\"dash_graph dashboard-wrapper\">\n            <div>\n                <h3 class=\"graph_name\" style=\"height: 44px;\">{{dashboardData.dashboard_name}} </h3>\n            </div>\n            <div class=\"filter-container\" *ngIf=\"filters.length\">\n                <h3>Filters:</h3>\n                <div class=\"col-lg-12 row\">\n                    <div class=\"col-lg-3\" *ngFor=\"let filter of filters;let i=index\"> <ng-multiselect-dropdown [placeholder]=\"'Select ' + filter.fieldName + '...'\" [(ngModel)]=\"filter.selValues\" (onSelect)=\"filteredDashboard()\"\n                            (onDeSelect)=\"filteredDashboard()\" [settings]=\"dropdownSettings\" [data]=\"filter.values\">\n                        </ng-multiselect-dropdown> </div>\n                </div>\n            </div>\n            <div class=\"row graph_design\" id=\"dashboardScreen\"> \n                <ng-container *ngFor=\"let graph of dashboardData?.graphs;let i=index;\">\n                    <!-- <div class=\"page-break\" *ngIf=\"i % 5 == 0 && i != 0\"></div> -->\n                    <ng-container *ngIf=\"graph.graphType != 3 && graph.graphType != 2\">\n                        <div class=\"dashboard-graph\"\n                            [ngClass]=\"{'col-lg-12': graph.graph_index == 1,'col-lg-6': graph.graph_index == 2,'col-lg-4': graph.graph_index == 3,'col-lg-3': graph.graph_index == 4}\"\n                            style=\"min-height: 370px; padding: 0px;\"> <!-- loader start -->\n                            <h3 *ngIf=\"graph.graph_structure.xAxis[0] != '***LABEL***'\" style=\"text-align: center; background-color: #eee; padding: 2px;\">{{graph.graphname}}</h3>\n                            <div [id]=\"'graph-'+ graph.graph_id\" style=\"position: relative; padding: 10px; padding-top: 45px;\">\n                                <div class=\"lds-ellipsis\">\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                    <div></div>\n                                </div> <!-- loader end -->\n                            </div>\n                        </div>\n                    </ng-container>\n                    <!-- <div *ngIf=\"graph.graphType !=3 && graph.graphType !=2\" class=\"dashboard-graph\" [id]=\"'graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 370px; display: flex;\"> \n                        <div class=\"lds-ellipsis\">\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                        </div> \n                    </div> -->\n                    <div *ngIf=\"graph.graphType==2\" class=\"dashboard-graph\" [id]=\"'table-graph-'+ graph.graph_id\"\n                        [ngClass]=\"{'col-lg-12':\n                        graph.graph_index==1,'col-lg-6': graph.graph_index==2,'col-lg-4':\n                        graph.graph_index==3,'col-lg-3': graph.graph_index==4}\" style=\"display: flex;\n                        flex-direction: column; border-bottom: 0px; background-color:antiquewhite;\">\n                        <!-- loader start -->\n                        <h2 style=\"text-align: center; margin-bottom: 0px;\">\n                            {{graph.graphname}}</h2> <!-- loader end -->\n                    </div>\n                    <div *ngIf=\"graph.graphType==3\" class=\"dashboard-graph\" [id]=\"'table-graph-'+\n                        graph.graph_id\" [ngClass]=\"{'col-lg-12': graph.graph_index==1,'col-lg-6':\n                        graph.graph_index==2,'col-lg-4': graph.graph_index==3,'col-lg-3': graph.graph_index==4}\"\n                        style=\"min-height: 300px; display: flex; flex-direction: column; padding-bottom: 2%;\">\n                        <!-- loader start -->\n                        <h3 style=\"text-align: center;\">{{graph.graphname}}</h3>\n                        <ng-container *ngIf=\"tableDatas.hasOwnProperty('table-graph-' + graph.graph_id)\">\n                            <dx-pivot-grid [allowSortingBySummary]=\"true\" [allowSorting]=\"true\" [allowFiltering]=\"true\"\n                                [showBorders]=\"true\" [dataSource]=\"tableDatas['table-graph-' + graph.graph_id]\">\n                                <dxo-field-chooser [enabled]=\"false\"></dxo-field-chooser> </dx-pivot-grid>\n                        </ng-container> <ng-container *ngIf=\"tableDatas['table-graph-' +\n                            graph.graph_id]==undefined\">\n                            <div class=\"lds-ellipsis\">\n                                <div></div>\n                                <div>\n                                </div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                        </ng-container>\n                        <!-- loader end -->\n                    </div>\n                </ng-container> </div>\n        </div>\n    </div>\n</div>", styles: [".left-sidebar .nav-link{text-transform:capitalize}.left-sidebar i{margin-right:10px}.left-sidebar .nav-tabs .nav-item{text-transform:capitalize}::ng-deep .left-sidebar .nav-item{text-transform:capitalize}::ng-deep .modal{z-index:1060}.filter-container{padding:10px;background:whitesmoke;border:2px solid #ccc}.filter-container h3{margin-bottom:auto}.filter-container .col-lg-3{padding-left:0}.search-filter{height:23px}.search-group{display:flex;align-items:center;justify-content:space-between}.search-group .filter-icon{margin:0}.dash_graph_sec .dash_graph{background-color:#fff}.dash_graph_sec .dash_graph .graph_name{text-align:center;background-color:#000;color:#fff;padding:5px;margin-bottom:0}.dash_graph_sec .dash_graph .graph_design{margin:0}.dashboard-graph{border:1px solid #e4e4e4;border-top:0px;align-items:center;justify-content:center}.modal{z-index:1060!important}::ng-deep .dropdown-custom{inset:103% 0 auto auto!important}.dashname{border-style:groove;background-color:#eee;width:64px;height:34px;display:flex;justify-content:center;align-items:center}.beans-list{padding-left:0;display:flex;flex-wrap:wrap}.beans{border-style:groove;background-color:#fd8309;color:#fff;border-radius:10px;padding:1%;border-color:#fd8309}.captcha-box{display:flex;justify-content:center;align-items:center;height:100%;position:absolute;width:100%;padding:5%;background:#ccc}.dashboard-wrapper{box-shadow:1px 1px 10px #ddd;border-radius:5px}.main_container{background-size:cover;background-repeat:no-repeat}@media print{.page-break{page-break-after:always!important}#dashboardScreen{display:block}}@media print{::ng-deep body,::ng-deep html,::ng-deep #wrapper{width:100%!important}::ng-deep .highcharts-root{width:100%!important}}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.DataService }, { type: i2.XSightsCoreService }]; }, propDecorators: { dashboardUrl: [{
                type: Input
            }], adminId: [{
                type: Input
            }], dashboardLoaded: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieC1zaWdodHMtcHVibGljLWRhc2hib2FyZC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy94LXNpZ2h0cy1jb3JlL3NyYy9saWIvY29tcG9uZW50cy94LXNpZ2h0cy1wdWJsaWMtZGFzaGJvYXJkL3gtc2lnaHRzLXB1YmxpYy1kYXNoYm9hcmQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMveC1zaWdodHMtY29yZS9zcmMvbGliL2NvbXBvbmVudHMveC1zaWdodHMtcHVibGljLWRhc2hib2FyZC94LXNpZ2h0cy1wdWJsaWMtZGFzaGJvYXJkLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsWUFBWSxFQUNaLEtBQUssRUFFTCxNQUFNLEdBRVAsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLE1BQU0sTUFBTSxRQUFRLENBQUM7QUFHakMsT0FBTyxFQUFFLFVBQVUsRUFBc0IsTUFBTSw2QkFBNkIsQ0FBQzs7Ozs7Ozs7O0FBTzdFLE1BQU0sT0FBTywrQkFBK0I7SUFjMUMsWUFDVSxXQUF3QixFQUN4QixPQUEyQjtRQUQzQixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4QixZQUFPLEdBQVAsT0FBTyxDQUFvQjtRQWY1QixpQkFBWSxHQUFXLEVBQUUsQ0FBQztRQUMxQixZQUFPLEdBQVEsQ0FBQyxDQUFDO1FBQ2hCLG9CQUFlLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFFMUQsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUUxQixrQkFBYSxHQUFRLEVBQUUsQ0FBQztRQUN4QixrQkFBYSxHQUFRLElBQUksQ0FBQztRQUMxQixZQUFPLEdBQVEsRUFBRSxDQUFDO1FBQ2xCLHFCQUFnQixHQUFRLEVBQUUsQ0FBQztRQUMzQixlQUFVLEdBQVEsRUFBRSxDQUFDO1FBQ3JCLGFBQVEsR0FBUSxF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QkFBK0I7Z0hBQS9CLCtCQUErQixxTUNsQjVDLDR3S0E2RU07MkZEM0RPLCtCQUErQjtrQkFMM0MsU0FBUzsrQkFDRSwyQkFBMkI7bUlBSzVCLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLO2dCQUNJLGVBQWU7c0JBQXhCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2VzLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAndHNsaWInO1xuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgV2lkZ2V0VHlwZSwgWFNpZ2h0c0NvcmVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4veC1zaWdodHMtY29yZS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAneC1zaWdodHMtcHVibGljLWRhc2hib2FyZCcsXG4gIHRlbXBsYXRlVXJsOiAnLi94LXNpZ2h0cy1wdWJsaWMtZGFzaGJvYXJkLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4veC1zaWdodHMtcHVibGljLWRhc2hib2FyZC5jb21wb25lbnQuc2NzcyddLFxufSlcbmV4cG9ydCBjbGFzcyBYU2lnaHRzUHVibGljRGFzaGJvYXJkQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgZGFzaGJvYXJkVXJsOiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgYWRtaW5JZDogYW55ID0gMDtcbiAgQE91dHB1dCgpIGRhc2hib2FyZExvYWRlZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgcHJpdmF0ZSBtdHJTb3VyY2UgPSAnMTM4JztcblxuICBkZWNvZGVkUGFyYW1zOiBhbnkgPSB7fTtcbiAgZGFzaGJvYXJkRGF0YTogYW55ID0gbnVsbDtcbiAgZmlsdGVyczogYW55ID0gW107XG4gIGRyb3Bkb3duU2V0dGluZ3M6IGFueSA9IHt9O1xuICB0YWJsZURhdGFzOiBhbnkgPSB7fTtcbiAgZHVtcERhdGE6IGFueSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZGF0YVNlcnZpY2U6IERhdGFTZXJ2aWNlLFxuICAgIHByaXZhdGUgeHNpZ2h0czogWFNpZ2h0c0NvcmVTZXJ2aWNlXG4gICkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICAvLyB0aGlzLmRlY29kZVVybCgpO1xuICAgIHRoaXMuZHJvcGRvd25TZXR0aW5ncyA9IHtcbiAgICAgIHNpbmdsZVNlbGVjdGlvbjogZmFsc2UsXG4gICAgICBlbmFibGVDaGVja0FsbDogZmFsc2UsXG4gICAgICBhbGxvd1NlYXJjaEZpbHRlcjogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgIC8vQ2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgbGlmZWN5Y2xlIGhvb2suIFVzZSBpdCB0byBpbmplY3QgZGVwZW5kZW5jaWVzLCBidXQgYXZvaWQgYW55IHNlcmlvdXMgd29yayBoZXJlLlxuICAgIC8vQWRkICcke2ltcGxlbWVudHMgT25DaGFuZ2VzfScgdG8gdGhlIGNsYXNzLlxuICAgIGlmIChcbiAgICAgIGNoYW5nZXNbJ2Rhc2hib2FyZFVybCddLnByZXZpb3VzVmFsdWUgIT1cbiAgICAgICAgY2hhbmdlc1snZGFzaGJvYXJkVXJsJ10uY3VycmVudFZhbHVlIHx8XG4gICAgICBjaGFuZ2VzWydhZG1pbklkJ10ucHJldmlvdXNWYWx1ZSAhPSBjaGFuZ2VzWydhZG1pbklkJ10uY3VycmVudFZhbHVlXG4gICAgKSB7XG4gICAgICB0aGlzLmRlY29kZVVybCgpO1xuICAgIH1cbiAgfVxuXG5cbiAgY2hlY2tEYXNoYm9hcmRMb2FkaW5nKCkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxkcy1lbGxpcHNpcycpO1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5kYXNoYm9hcmRMb2FkZWQuZW1pdCh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZGVjb2RlVXJsKCkge1xuICAgIHRoaXMuZGF0YVNlcnZpY2UuZ2V0RGVjb2RlZFVybCh0aGlzLmRhc2hib2FyZFVybCkudGhlbigocmVzOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHVybFBhcmFtc1N0ciA9IHJlcy5kYXRhWzBdLnNwbGl0KCc/JylbMV07XG4gICAgICBjb25zdCB1cmxQYXJhbXNBcnIgPSB1cmxQYXJhbXNTdHIuc3BsaXQoJyYnKTtcbiAgICAgIHVybFBhcmFtc0Fyci5mb3JFYWNoKChwYXJhbTogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuZGVjb2RlZFBhcmFtc1twYXJhbS5zcGxpdCgnPScpWzBdXSA9IHBhcmFtLnNwbGl0KCc9JylbMV07XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZ2V0U2hhcmVkRGFzaGJvYXJkKCk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRHcmFwaE9yZGVyKGE6IGFueSwgYjogYW55KSB7XG4gICAgaWYgKGEub3JkZXIgPCBiLm9yZGVyKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhLm9yZGVyID4gYi5vcmRlcikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZ2V0U2hhcmVkRGFzaGJvYXJkKCkge1xuICAgIHRoaXMuYWRtaW5JZCA9IHRoaXMuZGVjb2RlZFBhcmFtcy5mb0FkbWluSWQ7XG4gICAgbGV0IHBhcmFtcyA9XG4gICAgICAnP2Rhc2hfaWQ9JyArXG4gICAgICB0aGlzLmRlY29kZWRQYXJhbXMuZGFzaF9pZCArXG4gICAgICAnJmZpbGVJZD0nICtcbiAgICAgIHRoaXMuZGVjb2RlZFBhcmFtcy5maWxlSWQ7XG4gICAgdGhpcy5kYXRhU2VydmljZVxuICAgICAgLmdldFNoYXJlZERhc2hib2FyZChwYXJhbXMsIHRoaXMuYWRtaW5JZClcbiAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSByZXMuZGF0YVswXS5maWx0ZXJzO1xuICAgICAgICByZXMuZGF0YVswXS5ncmFwaHMgPSByZXMuZGF0YVswXS5ncmFwaHMuc29ydCh0aGlzLnNldEdyYXBoT3JkZXIpO1xuICAgICAgICB0aGlzLmRhc2hib2FyZERhdGEgPSByZXMuZGF0YVswXTtcbiAgICAgICAgdGhpcy5kYXRhU2VydmljZVxuICAgICAgICAgIC5nZXRTaGFyZWREYXNoYm9hcmREYXRhKHRoaXMuZGFzaGJvYXJkRGF0YS5pZCwgdGhpcy5hZG1pbklkKVxuICAgICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgLy8gLy9jb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICAgdGhpcy5kdW1wRGF0YSA9IHJlcztcbiAgICAgICAgICAgIGxvZGFzaC5mb3JFYWNoKHRoaXMuZGFzaGJvYXJkRGF0YS5ncmFwaHMsIChncmFwaDogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChncmFwaC5ncmFwaFR5cGUgIT0gMikge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhSW5kZXggPSByZXMuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgKGQ6IGFueSkgPT4gZC5jaGFydElkID09ICdncmFwaC0nICsgZ3JhcGguZ3JhcGhfaWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGxldCBncmFwaEQgPVxuICAgICAgICAgICAgICAgICAgdHlwZW9mIHJlc1tkYXRhSW5kZXhdLmRhdGEgIT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlc1tyZXNbZGF0YUluZGV4XS5kYXRhXS5kYXRhXG4gICAgICAgICAgICAgICAgICAgIDogcmVzW2RhdGFJbmRleF0uZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBsb2Rhc2gubWFwKHRoaXMuZmlsdGVycywoZmlsdGVyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5zb3VyY2VJZC50b1N0cmluZygpID09IGdyYXBoLnNvdXJjZWlkLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLnZhbHVlcyA9IE9iamVjdC5rZXlzKFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9kYXNoLmdyb3VwQnkoZ3JhcGhELCBmaWx0ZXIuZmllbGROYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICkubWFwKChrZXksIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuc2VsVmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgbGV0IHRlbXBHcmFwaERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3M6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS54QXhpcyxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLnlBeGlzLFxuICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGlvbkZ1bmN0aW9uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmFnZ3JlYWdhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcjogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLmZpbHRlcixcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kZXJpdmVkVmFyaWFibGVzLFxuICAgICAgICAgICAgICAgICAgICBkYXRhRm9ybWF0OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgY29sVG9TaG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUubGFzdExldmVsRGF0YSA/PyBbXSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZVZhcmlhYmxlOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuZGF0ZVZhcmlhYmxlLFxuICAgICAgICAgICAgICAgICAgICBjaGFydFR5cGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5jaGFydFR5cGUsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgaWYgKGdyYXBoLnNvdXJjZWlkLnRvU3RyaW5nKCkgPT0gdGhpcy5tdHJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEdyYXBoRGF0YSA9IHRoaXMuZGF0YVNlcnZpY2Uua2V5Q29udmVydGVyKFxuICAgICAgICAgICAgICAgICAgICAgIHRlbXBHcmFwaERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzW2RhdGFJbmRleF0uY29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkQ2hhcnQoZ3JhcGgsIGdyYXBoRCwgdGVtcEdyYXBoRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cblxuICBmaWx0ZXJEYXRhKGRhdGE6IGFueSwgc291cmNlSWQ6IGFueSkge1xuICAgIGxldCBmaWx0ZXJUb0FwcGx5ID0gdGhpcy5maWx0ZXJzLmZpbHRlcihcbiAgICAgIChmaWx0ZXI6IGFueSkgPT4gZmlsdGVyLnNvdXJjZUlkLnRvU3RyaW5nKCkgPT0gc291cmNlSWQudG9TdHJpbmcoKVxuICAgICk7XG4gICAgZmlsdGVyVG9BcHBseS5mb3JFYWNoKChmaWx0ZXI6IGFueSkgPT4ge1xuICAgICAgaWYgKGZpbHRlci5zZWxWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGxldCB2YWxpZFZhbHVlcyA9IGZpbHRlci5zZWxWYWx1ZXMubWFwKCh2YWx1ZTogYW55KSA9PiB2YWx1ZS50ZXh0KTtcbiAgICAgICAgbGV0IHRlbXA6IGFueSA9IFtdO1xuICAgICAgICBsZXQgZ3JvdXBEYXRhID0gbG9kYXNoLmdyb3VwQnkoZGF0YSwgZmlsdGVyLmZpZWxkTmFtZSk7XG4gICAgICAgIGxldCBhbGxLZXlzID0gT2JqZWN0LmtleXMoZ3JvdXBEYXRhKTtcbiAgICAgICAgYWxsS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBpZiAodmFsaWRWYWx1ZXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgdGVtcC5wdXNoKC4uLmdyb3VwRGF0YVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkYXRhID0gdGVtcDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGJ1aWxkQ2hhcnQod2lkZ2V0RGF0YTogYW55LCBkYXRhOiBhbnksIHRlbXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgX3NlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBkYXRhID0gdGhpcy5maWx0ZXJEYXRhKGRhdGEsIHdpZGdldERhdGEuc291cmNlaWQudG9TdHJpbmcoKSk7XG4gICAgICAvLyBkYXRhID0gdGhpcy5maWx0ZXJEYXRhKGRhdGEsIHdpZGdldERhdGEuc291cmNlaWQpO1xuICAgICAgaWYgKHdpZGdldERhdGEuZ3JhcGhUeXBlID09IDEpIHtcbiAgICAgICAgbGV0IGdyYXBoRGF0YSA9IHtcbiAgICAgICAgICBncmFwaElkOiAnZ3JhcGgtJyArIHdpZGdldERhdGEuZ3JhcGhfaWQsXG4gICAgICAgICAgZ3JhcGhUaXRsZTogd2lkZ2V0RGF0YS5ncmFwaG5hbWUsXG4gICAgICAgICAgcm93czogdGVtcERhdGEucm93c1swXSxcbiAgICAgICAgICBjb2x1bW5zOiB0ZW1wRGF0YS5jb2x1bW5zWzBdLFxuICAgICAgICAgIGdyYXBoVHlwZXM6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmNoYXJ0VHlwZVswXSxcbiAgICAgICAgICBncmFwaERhdGE6IGRhdGEsXG4gICAgICAgICAgYWdncmVnYXRpb25GdW5jdGlvbnM6IHRlbXBEYXRhLmFnZ3JlZ2F0aW9uRnVuY3Rpb25zWzBdLFxuICAgICAgICAgIGZpbHRlcjogdGVtcERhdGEuZmlsdGVyLFxuICAgICAgICAgIGNvbG9yczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY29sQ29sb3Vyc1swXSxcbiAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgc3RhcnREYXRlOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5zdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlOiB3aWRnZXREYXRhLmdyYXBoX3N0cnVjdHVyZS5lbmREYXRlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGF0ZVZhcmlhYmxlOiB0ZW1wRGF0YS5kYXRlVmFyaWFibGUsXG4gICAgICAgICAgcmFuZ2VGaWx0ZXI6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLnJhbmdlRmlsdGVyLFxuICAgICAgICAgIGNvbXBhcmlzb246IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmNvbXBhcmlzb24gPz8gW10sXG4gICAgICAgICAgY3VzdG9tVmFyaWFibGU6IHRlbXBEYXRhLmN1c3RvbVZhcmlhYmxlLFxuICAgICAgICAgIGRhdGFGb3JtYXQ6IHRlbXBEYXRhLmRhdGFGb3JtYXQgPz8gW10sXG4gICAgICAgICAgbGFzdExldmVsQ29sdW1uczogdGVtcERhdGEubGFzdExldmVsQ29sdW1ucyA/PyBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgX3NlbGYueHNpZ2h0cy5idWlsZChXaWRnZXRUeXBlLlRSRU5ELCBncmFwaERhdGEpO1xuICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgX3NlbGYuY2hlY2tEYXNoYm9hcmRMb2FkaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHdpZGdldERhdGEuZ3JhcGhUeXBlID09IDMpIHtcbiAgICAgICAgbGV0IHRhYmxlRGF0YSA9IHtcbiAgICAgICAgICByb3dzOiB0ZW1wRGF0YS5yb3dzLFxuICAgICAgICAgIGNvbHVtbjogdGVtcERhdGEuY29sdW1ucyxcbiAgICAgICAgICBhZ2dyZWdhdGlvbkZ1bmN0aW9uOiB0ZW1wRGF0YS5hZ2dyZWdhdGlvbkZ1bmN0aW9ucyxcbiAgICAgICAgICBmaWx0ZXI6IHRlbXBEYXRhLmZpbHRlcixcbiAgICAgICAgICBkZXJpdmVkVmFyaWFibGVzOiB0ZW1wRGF0YS5jdXN0b21WYXJpYWJsZSxcbiAgICAgICAgICBkYXRhRm9ybWF0OiB0ZW1wRGF0YS5kYXRhRm9ybWF0ID8/IFtdLFxuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgY2F0ZWdvcmllczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlLFxuICAgICAgICB9O1xuICAgICAgICBfc2VsZi50YWJsZURhdGFzWyd0YWJsZS1ncmFwaC0nICsgd2lkZ2V0RGF0YS5ncmFwaF9pZF0gPVxuICAgICAgICAgIGF3YWl0IF9zZWxmLnhzaWdodHMuYnVpbGQoV2lkZ2V0VHlwZS5QSVZPVF9UQUJMRSwgdGFibGVEYXRhKTtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgX3NlbGYuY2hlY2tEYXNoYm9hcmRMb2FkaW5nKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZ3JhcGhkYXRhID0ge1xuICAgICAgICAgIGdyYXBoSWQ6ICdncmFwaC0nICsgd2lkZ2V0RGF0YS5ncmFwaF9pZCxcbiAgICAgICAgICBncmFwaFRpdGxlOiB3aWRnZXREYXRhLmdyYXBobmFtZSxcbiAgICAgICAgICByb3dzOiB0ZW1wRGF0YS5yb3dzLFxuICAgICAgICAgIGNvbHVtbnM6IHRlbXBEYXRhLmNvbHVtbnMsXG4gICAgICAgICAgYWdncmVnYXRpb25GdW5jdGlvbnM6IHRlbXBEYXRhLmFnZ3JlZ2F0aW9uRnVuY3Rpb25zLFxuICAgICAgICAgIGZpbHRlcjogdGVtcERhdGEuZmlsdGVyLFxuICAgICAgICAgIGN1c3RvbVZhcmlhYmxlOiB0ZW1wRGF0YS5jdXN0b21WYXJpYWJsZSxcbiAgICAgICAgICBkYXRhRm9ybWF0OiB0ZW1wRGF0YS5kYXRhRm9ybWF0ID8/IFtdLFxuICAgICAgICAgIGxhc3RMZXZlbENvbHVtbnM6IHRlbXBEYXRhLmxhc3RMZXZlbENvbHVtbnMgPz8gW10sXG4gICAgICAgICAgZ3JhcGhUeXBlczogd2lkZ2V0RGF0YS5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlLFxuICAgICAgICAgIGdyYXBoRGF0YTogZGF0YSxcbiAgICAgICAgICBjb2xvcnM6IHdpZGdldERhdGEuZ3JhcGhfc3RydWN0dXJlLmNvbENvbG91cnMsXG4gICAgICAgIH07XG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHRoaXMueHNpZ2h0cy5idWlsZChXaWRnZXRUeXBlLkdSQVBILCBncmFwaGRhdGEpO1xuICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgX3NlbGYuY2hlY2tEYXNoYm9hcmRMb2FkaW5nKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmaWx0ZXJlZERhc2hib2FyZCgpIHtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5kYXNoYm9hcmREYXRhLmdyYXBocykge1xuICAgICAgY29uc3QgZ3JhcGggPSBlbGVtZW50O1xuICAgICAgbGV0IHJlcyA9IG51bGw7XG4gICAgICBpZiAoZ3JhcGguZ3JhcGhUeXBlICE9IDIpIHtcbiAgICAgICAgbGV0IGRhdGFJbmRleCA9IHRoaXMuZHVtcERhdGEuZmluZEluZGV4KFxuICAgICAgICAgIChkOiBhbnkpID0+IGQuY2hhcnRJZCA9PSAnZ3JhcGgtJyArIGdyYXBoLmdyYXBoX2lkXG4gICAgICAgICk7XG4gICAgICAgIHJlcyA9IHRoaXMuZHVtcERhdGFbZGF0YUluZGV4XS5kYXRhO1xuICAgICAgICBsZXQgdGVtcEdyYXBoRGF0YSA9IHtcbiAgICAgICAgICByb3dzOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUueEF4aXMsXG4gICAgICAgICAgY29sdW1uczogZ3JhcGguZ3JhcGhfc3RydWN0dXJlLnlBeGlzLFxuICAgICAgICAgIGFnZ3JlZ2F0aW9uRnVuY3Rpb25zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuYWdncmVhZ2F0aW9ucyxcbiAgICAgICAgICBmaWx0ZXI6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5maWx0ZXIsXG4gICAgICAgICAgY3VzdG9tVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kZXJpdmVkVmFyaWFibGVzLFxuICAgICAgICAgIGRhdGFGb3JtYXQ6IFtdLFxuICAgICAgICAgIGNvbFRvU2hvdzogbnVsbCxcbiAgICAgICAgICBsYXN0TGV2ZWxDb2x1bW5zOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUubGFzdExldmVsRGF0YSA/PyBbXSxcbiAgICAgICAgICBkYXRlVmFyaWFibGU6IGdyYXBoLmdyYXBoX3N0cnVjdHVyZS5kYXRlVmFyaWFibGUsXG4gICAgICAgICAgY2hhcnRUeXBlOiBncmFwaC5ncmFwaF9zdHJ1Y3R1cmUuY2hhcnRUeXBlLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZ3JhcGguc291cmNlaWQudG9TdHJpbmcoKSA9PSB0aGlzLm10clNvdXJjZSkge1xuICAgICAgICAgIHRlbXBHcmFwaERhdGEgPSB0aGlzLmRhdGFTZXJ2aWNlLmtleUNvbnZlcnRlcihcbiAgICAgICAgICAgIHRlbXBHcmFwaERhdGEsXG4gICAgICAgICAgICB0aGlzLmR1bXBEYXRhW2RhdGFJbmRleF0uY29sdW1ucyxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVpbGRDaGFydChncmFwaCwgcmVzLCB0ZW1wR3JhcGhEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0iLCI8ZGl2ICpuZ0lmPVwiZGFzaGJvYXJkRGF0YSAhPW51bGxcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZGFzaF9ncmFwaF9zZWNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRhc2hfZ3JhcGggZGFzaGJvYXJkLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwiZ3JhcGhfbmFtZVwiIHN0eWxlPVwiaGVpZ2h0OiA0NHB4O1wiPnt7ZGFzaGJvYXJkRGF0YS5kYXNoYm9hcmRfbmFtZX19IDwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItY29udGFpbmVyXCIgKm5nSWY9XCJmaWx0ZXJzLmxlbmd0aFwiPlxuICAgICAgICAgICAgICAgIDxoMz5GaWx0ZXJzOjwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMiByb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zXCIgKm5nRm9yPVwibGV0IGZpbHRlciBvZiBmaWx0ZXJzO2xldCBpPWluZGV4XCI+IDxuZy1tdWx0aXNlbGVjdC1kcm9wZG93biBbcGxhY2Vob2xkZXJdPVwiJ1NlbGVjdCAnICsgZmlsdGVyLmZpZWxkTmFtZSArICcuLi4nXCIgWyhuZ01vZGVsKV09XCJmaWx0ZXIuc2VsVmFsdWVzXCIgKG9uU2VsZWN0KT1cImZpbHRlcmVkRGFzaGJvYXJkKClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvbkRlU2VsZWN0KT1cImZpbHRlcmVkRGFzaGJvYXJkKClcIiBbc2V0dGluZ3NdPVwiZHJvcGRvd25TZXR0aW5nc1wiIFtkYXRhXT1cImZpbHRlci52YWx1ZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctbXVsdGlzZWxlY3QtZHJvcGRvd24+IDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IGdyYXBoX2Rlc2lnblwiIGlkPVwiZGFzaGJvYXJkU2NyZWVuXCI+IFxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGdyYXBoIG9mIGRhc2hib2FyZERhdGE/LmdyYXBocztsZXQgaT1pbmRleDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwicGFnZS1icmVha1wiICpuZ0lmPVwiaSAlIDUgPT0gMCAmJiBpICE9IDBcIj48L2Rpdj4gLS0+XG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJncmFwaC5ncmFwaFR5cGUgIT0gMyAmJiBncmFwaC5ncmFwaFR5cGUgIT0gMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhc2hib2FyZC1ncmFwaFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydjb2wtbGctMTInOiBncmFwaC5ncmFwaF9pbmRleCA9PSAxLCdjb2wtbGctNic6IGdyYXBoLmdyYXBoX2luZGV4ID09IDIsJ2NvbC1sZy00JzogZ3JhcGguZ3JhcGhfaW5kZXggPT0gMywnY29sLWxnLTMnOiBncmFwaC5ncmFwaF9pbmRleCA9PSA0fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJtaW4taGVpZ2h0OiAzNzBweDsgcGFkZGluZzogMHB4O1wiPiA8IS0tIGxvYWRlciBzdGFydCAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgKm5nSWY9XCJncmFwaC5ncmFwaF9zdHJ1Y3R1cmUueEF4aXNbMF0gIT0gJyoqKkxBQkVMKioqJ1wiIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOyBwYWRkaW5nOiAycHg7XCI+e3tncmFwaC5ncmFwaG5hbWV9fTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBbaWRdPVwiJ2dyYXBoLScrIGdyYXBoLmdyYXBoX2lkXCIgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmc6IDEwcHg7IHBhZGRpbmctdG9wOiA0NXB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGRzLWVsbGlwc2lzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gPCEtLSBsb2FkZXIgZW5kIC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICA8IS0tIDxkaXYgKm5nSWY9XCJncmFwaC5ncmFwaFR5cGUgIT0zICYmIGdyYXBoLmdyYXBoVHlwZSAhPTJcIiBjbGFzcz1cImRhc2hib2FyZC1ncmFwaFwiIFtpZF09XCInZ3JhcGgtJytcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoLmdyYXBoX2lkXCIgW25nQ2xhc3NdPVwieydjb2wtbGctMTInOiBncmFwaC5ncmFwaF9pbmRleD09MSwnY29sLWxnLTYnOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGguZ3JhcGhfaW5kZXg9PTIsJ2NvbC1sZy00JzogZ3JhcGguZ3JhcGhfaW5kZXg9PTMsJ2NvbC1sZy0zJzogZ3JhcGguZ3JhcGhfaW5kZXg9PTR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWluLWhlaWdodDogMzcwcHg7IGRpc3BsYXk6IGZsZXg7XCI+IFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxkcy1lbGxpcHNpc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAtLT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImdyYXBoLmdyYXBoVHlwZT09MlwiIGNsYXNzPVwiZGFzaGJvYXJkLWdyYXBoXCIgW2lkXT1cIid0YWJsZS1ncmFwaC0nKyBncmFwaC5ncmFwaF9pZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J2NvbC1sZy0xMic6XG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaC5ncmFwaF9pbmRleD09MSwnY29sLWxnLTYnOiBncmFwaC5ncmFwaF9pbmRleD09MiwnY29sLWxnLTQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGguZ3JhcGhfaW5kZXg9PTMsJ2NvbC1sZy0zJzogZ3JhcGguZ3JhcGhfaW5kZXg9PTR9XCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgYm9yZGVyLWJvdHRvbTogMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOmFudGlxdWV3aGl0ZTtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gbG9hZGVyIHN0YXJ0IC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3tncmFwaC5ncmFwaG5hbWV9fTwvaDI+IDwhLS0gbG9hZGVyIGVuZCAtLT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJncmFwaC5ncmFwaFR5cGU9PTNcIiBjbGFzcz1cImRhc2hib2FyZC1ncmFwaFwiIFtpZF09XCIndGFibGUtZ3JhcGgtJytcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoLmdyYXBoX2lkXCIgW25nQ2xhc3NdPVwieydjb2wtbGctMTInOiBncmFwaC5ncmFwaF9pbmRleD09MSwnY29sLWxnLTYnOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGguZ3JhcGhfaW5kZXg9PTIsJ2NvbC1sZy00JzogZ3JhcGguZ3JhcGhfaW5kZXg9PTMsJ2NvbC1sZy0zJzogZ3JhcGguZ3JhcGhfaW5kZXg9PTR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWluLWhlaWdodDogMzAwcHg7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IHBhZGRpbmctYm90dG9tOiAyJTtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gbG9hZGVyIHN0YXJ0IC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPnt7Z3JhcGguZ3JhcGhuYW1lfX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInRhYmxlRGF0YXMuaGFzT3duUHJvcGVydHkoJ3RhYmxlLWdyYXBoLScgKyBncmFwaC5ncmFwaF9pZClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHgtcGl2b3QtZ3JpZCBbYWxsb3dTb3J0aW5nQnlTdW1tYXJ5XT1cInRydWVcIiBbYWxsb3dTb3J0aW5nXT1cInRydWVcIiBbYWxsb3dGaWx0ZXJpbmddPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzaG93Qm9yZGVyc109XCJ0cnVlXCIgW2RhdGFTb3VyY2VdPVwidGFibGVEYXRhc1sndGFibGUtZ3JhcGgtJyArIGdyYXBoLmdyYXBoX2lkXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWZpZWxkLWNob29zZXIgW2VuYWJsZWRdPVwiZmFsc2VcIj48L2R4by1maWVsZC1jaG9vc2VyPiA8L2R4LXBpdm90LWdyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj4gPG5nLWNvbnRhaW5lciAqbmdJZj1cInRhYmxlRGF0YXNbJ3RhYmxlLWdyYXBoLScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoLmdyYXBoX2lkXT09dW5kZWZpbmVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxkcy1lbGxpcHNpc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBsb2FkZXIgZW5kIC0tPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj4gPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+Il19